import{_ as Wt,a as Vt,b as Ut,f as ge,c as xt,R as B,r as at,d as tt,e as Kt,g as De,h as Eo,i as _o,j as Co,k as Ir,P as Fe}from"./index.643a4602.js";import{_ as mt,b as Oe,i as Gt,k as Ee,c as Lr,d as Fr,e as Yo,f as qt,h as _e,j as Nr,l as Bo,m as $o,n as Xo,o as Rr,p as zr,q as Ao,r as Ho,P as jr}from"./index.a7e9ada9.js";import{_ as Ce,a as Wr,b as Vr,e as Io,c as Zt,d as Lo,f as Ur,g as Fo,h as No,i as Kr,j as Ro,k as zo}from"./_baseGet.65c9cd2f.js";import{C as Gr}from"./ConfigReceiver.47be707e.js";var jo=Ce;function Wo(){this.__data__=new jo,this.size=0}var Vo=Wo;function Uo(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}var Ko=Uo;function Go(r){return this.__data__.get(r)}var qo=Go;function Zo(r){return this.__data__.has(r)}var Jo=Zo,Qo=Ce,tn=Wr,en=Vr,rn=200;function on(r,t){var e=this.__data__;if(e instanceof Qo){var o=e.__data__;if(!tn||o.length<rn-1)return o.push([r,t]),this.size=++e.size,this;e=this.__data__=new en(o)}return e.set(r,t),this.size=e.size,this}var nn=on,sn=Ce,an=Vo,ln=Ko,cn=qo,hn=Jo,un=nn;function St(r){var t=this.__data__=new sn(r);this.size=t.size}St.prototype.clear=an;St.prototype.delete=ln;St.prototype.get=cn;St.prototype.has=hn;St.prototype.set=un;var qr=St,pn="__lodash_hash_undefined__";function fn(r){return this.__data__.set(r,pn),this}var vn=fn;function dn(r){return this.__data__.has(r)}var gn=dn,yn=Vr,mn=vn,Sn=gn;function Rt(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new yn;++t<e;)this.add(r[t])}Rt.prototype.add=Rt.prototype.push=mn;Rt.prototype.has=Sn;var Tn=Rt;function bn(r,t){for(var e=-1,o=r==null?0:r.length;++e<o;)if(t(r[e],e,r))return!0;return!1}var kn=bn;function Pn(r,t){return r.has(t)}var wn=Pn,xn=Tn,Mn=kn,Dn=wn,On=1,En=2;function _n(r,t,e,o,n,i){var s=e&On,a=r.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=i.get(r),h=i.get(t);if(l&&h)return l==t&&h==r;var u=-1,p=!0,f=e&En?new xn:void 0;for(i.set(r,t),i.set(t,r);++u<a;){var v=r[u],m=t[u];if(o)var T=s?o(m,v,u,t,r,i):o(v,m,u,r,t,i);if(T!==void 0){if(T)continue;p=!1;break}if(f){if(!Mn(t,function(w,O){if(!Dn(f,O)&&(v===w||n(v,w,e,o,i)))return f.push(O)})){p=!1;break}}else if(!(v===m||n(v,m,e,o,i))){p=!1;break}}return i.delete(r),i.delete(t),p}var Zr=_n,Cn=mt,Yn=Cn.Uint8Array,Jr=Yn;function Bn(r){var t=-1,e=Array(r.size);return r.forEach(function(o,n){e[++t]=[n,o]}),e}var $n=Bn;function Xn(r){var t=-1,e=Array(r.size);return r.forEach(function(o){e[++t]=o}),e}var An=Xn,Ne=Oe,Re=Jr,Hn=Io,In=Zr,Ln=$n,Fn=An,Nn=1,Rn=2,zn="[object Boolean]",jn="[object Date]",Wn="[object Error]",Vn="[object Map]",Un="[object Number]",Kn="[object RegExp]",Gn="[object Set]",qn="[object String]",Zn="[object Symbol]",Jn="[object ArrayBuffer]",Qn="[object DataView]",ze=Ne?Ne.prototype:void 0,oe=ze?ze.valueOf:void 0;function ti(r,t,e,o,n,i,s){switch(e){case Qn:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case Jn:return!(r.byteLength!=t.byteLength||!i(new Re(r),new Re(t)));case zn:case jn:case Un:return Hn(+r,+t);case Wn:return r.name==t.name&&r.message==t.message;case Kn:case qn:return r==t+"";case Vn:var a=Ln;case Gn:var c=o&Nn;if(a||(a=Fn),r.size!=t.size&&!c)return!1;var l=s.get(r);if(l)return l==t;o|=Rn,s.set(r,t);var h=In(a(r),a(t),o,n,i,s);return s.delete(r),h;case Zn:if(oe)return oe.call(r)==oe.call(t)}return!1}var ei=ti;function ri(r,t){for(var e=-1,o=t.length,n=r.length;++e<o;)r[n+e]=t[e];return r}var Ye=ri,oi=Ye,ni=Gt;function ii(r,t,e){var o=t(r);return ni(r)?o:oi(o,e(r))}var Qr=ii;function si(r,t){for(var e=-1,o=r==null?0:r.length,n=0,i=[];++e<o;){var s=r[e];t(s,e,r)&&(i[n++]=s)}return i}var ai=si;function li(){return[]}var to=li,ci=ai,hi=to,ui=Object.prototype,pi=ui.propertyIsEnumerable,je=Object.getOwnPropertySymbols,fi=je?function(r){return r==null?[]:(r=Object(r),ci(je(r),function(t){return pi.call(r,t)}))}:hi,Be=fi,vi=Qr,di=Be,gi=Ee;function yi(r){return vi(r,gi,di)}var eo=yi,We=eo,mi=1,Si=Object.prototype,Ti=Si.hasOwnProperty;function bi(r,t,e,o,n,i){var s=e&mi,a=We(r),c=a.length,l=We(t),h=l.length;if(c!=h&&!s)return!1;for(var u=c;u--;){var p=a[u];if(!(s?p in t:Ti.call(t,p)))return!1}var f=i.get(r),v=i.get(t);if(f&&v)return f==t&&v==r;var m=!0;i.set(r,t),i.set(t,r);for(var T=s;++u<c;){p=a[u];var w=r[p],O=t[p];if(o)var A=s?o(O,w,p,t,r,i):o(w,O,p,r,t,i);if(!(A===void 0?w===O||n(w,O,e,o,i):A)){m=!1;break}T||(T=p=="constructor")}if(m&&!T){var I=r.constructor,$=t.constructor;I!=$&&"constructor"in r&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof $=="function"&&$ instanceof $)&&(m=!1)}return i.delete(r),i.delete(t),m}var ki=bi,Pi=Zt,wi=mt,xi=Pi(wi,"DataView"),Mi=xi,Di=Zt,Oi=mt,Ei=Di(Oi,"Promise"),_i=Ei,Ci=Zt,Yi=mt,Bi=Ci(Yi,"Set"),$i=Bi,Xi=Zt,Ai=mt,Hi=Xi(Ai,"WeakMap"),Ii=Hi,ye=Mi,me=Wr,Se=_i,Te=$i,be=Ii,ro=Lr,Tt=Lo,Ve="[object Map]",Li="[object Object]",Ue="[object Promise]",Ke="[object Set]",Ge="[object WeakMap]",qe="[object DataView]",Fi=Tt(ye),Ni=Tt(me),Ri=Tt(Se),zi=Tt(Te),ji=Tt(be),st=ro;(ye&&st(new ye(new ArrayBuffer(1)))!=qe||me&&st(new me)!=Ve||Se&&st(Se.resolve())!=Ue||Te&&st(new Te)!=Ke||be&&st(new be)!=Ge)&&(st=function(r){var t=ro(r),e=t==Li?r.constructor:void 0,o=e?Tt(e):"";if(o)switch(o){case Fi:return qe;case Ni:return Ve;case Ri:return Ue;case zi:return Ke;case ji:return Ge}return t});var Jt=st,ne=qr,Wi=Zr,Vi=ei,Ui=ki,Ze=Jt,Je=Gt,Qe=Fr.exports,Ki=Yo,Gi=1,tr="[object Arguments]",er="[object Array]",Et="[object Object]",qi=Object.prototype,rr=qi.hasOwnProperty;function Zi(r,t,e,o,n,i){var s=Je(r),a=Je(t),c=s?er:Ze(r),l=a?er:Ze(t);c=c==tr?Et:c,l=l==tr?Et:l;var h=c==Et,u=l==Et,p=c==l;if(p&&Qe(r)){if(!Qe(t))return!1;s=!0,h=!1}if(p&&!h)return i||(i=new ne),s||Ki(r)?Wi(r,t,e,o,n,i):Vi(r,t,c,e,o,n,i);if(!(e&Gi)){var f=h&&rr.call(r,"__wrapped__"),v=u&&rr.call(t,"__wrapped__");if(f||v){var m=f?r.value():r,T=v?t.value():t;return i||(i=new ne),n(m,T,e,o,i)}}return p?(i||(i=new ne),Ui(r,t,e,o,n,i)):!1}var Ji=Zi,Qi=Ji,or=qt;function oo(r,t,e,o,n){return r===t?!0:r==null||t==null||!or(r)&&!or(t)?r!==r&&t!==t:Qi(r,t,e,o,oo,n)}var ts=oo,es=ts;function rs(r,t){return es(r,t)}var Qt=rs;function os(r,t){for(var e=-1,o=r==null?0:r.length;++e<o&&t(r[e],e,r)!==!1;);return r}var ns=os,is=Ur,ss=Fo;function as(r,t,e,o){var n=!e;e||(e={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=o?o(e[a],r[a],a,e,r):void 0;c===void 0&&(c=r[a]),n?ss(e,a,c):is(e,a,c)}return e}var Mt=as,ls=Mt,cs=Ee;function hs(r,t){return r&&ls(t,cs(t),r)}var us=hs;function ps(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var fs=ps,vs=_e,ds=Nr,gs=fs,ys=Object.prototype,ms=ys.hasOwnProperty;function Ss(r){if(!vs(r))return gs(r);var t=ds(r),e=[];for(var o in r)o=="constructor"&&(t||!ms.call(r,o))||e.push(o);return e}var Ts=Ss,bs=Bo,ks=Ts,Ps=$o;function ws(r){return Ps(r)?bs(r,!0):ks(r)}var $e=ws,xs=Mt,Ms=$e;function Ds(r,t){return r&&xs(t,Ms(t),r)}var Os=Ds,ke={exports:{}};(function(r,t){var e=mt,o=t&&!t.nodeType&&t,n=o&&!0&&r&&!r.nodeType&&r,i=n&&n.exports===o,s=i?e.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(l,h){if(h)return l.slice();var u=l.length,p=a?a(u):new l.constructor(u);return l.copy(p),p}r.exports=c})(ke,ke.exports);function Es(r,t){var e=-1,o=r.length;for(t||(t=Array(o));++e<o;)t[e]=r[e];return t}var _s=Es,Cs=Mt,Ys=Be;function Bs(r,t){return Cs(r,Ys(r),t)}var $s=Bs,Xs=Xo,As=Xs(Object.getPrototypeOf,Object),Xe=As,Hs=Ye,Is=Xe,Ls=Be,Fs=to,Ns=Object.getOwnPropertySymbols,Rs=Ns?function(r){for(var t=[];r;)Hs(t,Ls(r)),r=Is(r);return t}:Fs,no=Rs,zs=Mt,js=no;function Ws(r,t){return zs(r,js(r),t)}var Vs=Ws,Us=Qr,Ks=no,Gs=$e;function qs(r){return Us(r,Gs,Ks)}var io=qs,Zs=Object.prototype,Js=Zs.hasOwnProperty;function Qs(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&Js.call(r,"index")&&(e.index=r.index,e.input=r.input),e}var ta=Qs,nr=Jr;function ea(r){var t=new r.constructor(r.byteLength);return new nr(t).set(new nr(r)),t}var Ae=ea,ra=Ae;function oa(r,t){var e=t?ra(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)}var na=oa,ia=/\w*$/;function sa(r){var t=new r.constructor(r.source,ia.exec(r));return t.lastIndex=r.lastIndex,t}var aa=sa,ir=Oe,sr=ir?ir.prototype:void 0,ar=sr?sr.valueOf:void 0;function la(r){return ar?Object(ar.call(r)):{}}var ca=la,ha=Ae;function ua(r,t){var e=t?ha(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}var pa=ua,fa=Ae,va=na,da=aa,ga=ca,ya=pa,ma="[object Boolean]",Sa="[object Date]",Ta="[object Map]",ba="[object Number]",ka="[object RegExp]",Pa="[object Set]",wa="[object String]",xa="[object Symbol]",Ma="[object ArrayBuffer]",Da="[object DataView]",Oa="[object Float32Array]",Ea="[object Float64Array]",_a="[object Int8Array]",Ca="[object Int16Array]",Ya="[object Int32Array]",Ba="[object Uint8Array]",$a="[object Uint8ClampedArray]",Xa="[object Uint16Array]",Aa="[object Uint32Array]";function Ha(r,t,e){var o=r.constructor;switch(t){case Ma:return fa(r);case ma:case Sa:return new o(+r);case Da:return va(r,e);case Oa:case Ea:case _a:case Ca:case Ya:case Ba:case $a:case Xa:case Aa:return ya(r,e);case Ta:return new o;case ba:case wa:return new o(r);case ka:return da(r);case Pa:return new o;case xa:return ga(r)}}var Ia=Ha,La=_e,lr=Object.create,Fa=function(){function r(){}return function(t){if(!La(t))return{};if(lr)return lr(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}(),Na=Fa,Ra=Na,za=Xe,ja=Nr;function Wa(r){return typeof r.constructor=="function"&&!ja(r)?Ra(za(r)):{}}var Va=Wa,Ua=Jt,Ka=qt,Ga="[object Map]";function qa(r){return Ka(r)&&Ua(r)==Ga}var Za=qa,Ja=Za,Qa=zr,cr=Rr.exports,hr=cr&&cr.isMap,tl=hr?Qa(hr):Ja,el=tl,rl=Jt,ol=qt,nl="[object Set]";function il(r){return ol(r)&&rl(r)==nl}var sl=il,al=sl,ll=zr,ur=Rr.exports,pr=ur&&ur.isSet,cl=pr?ll(pr):al,hl=cl,ul=qr,pl=ns,fl=Ur,vl=us,dl=Os,gl=ke.exports,yl=_s,ml=$s,Sl=Vs,Tl=eo,bl=io,kl=Jt,Pl=ta,wl=Ia,xl=Va,Ml=Gt,Dl=Fr.exports,Ol=el,El=_e,_l=hl,Cl=Ee,Yl=$e,Bl=1,$l=2,Xl=4,so="[object Arguments]",Al="[object Array]",Hl="[object Boolean]",Il="[object Date]",Ll="[object Error]",ao="[object Function]",Fl="[object GeneratorFunction]",Nl="[object Map]",Rl="[object Number]",lo="[object Object]",zl="[object RegExp]",jl="[object Set]",Wl="[object String]",Vl="[object Symbol]",Ul="[object WeakMap]",Kl="[object ArrayBuffer]",Gl="[object DataView]",ql="[object Float32Array]",Zl="[object Float64Array]",Jl="[object Int8Array]",Ql="[object Int16Array]",tc="[object Int32Array]",ec="[object Uint8Array]",rc="[object Uint8ClampedArray]",oc="[object Uint16Array]",nc="[object Uint32Array]",D={};D[so]=D[Al]=D[Kl]=D[Gl]=D[Hl]=D[Il]=D[ql]=D[Zl]=D[Jl]=D[Ql]=D[tc]=D[Nl]=D[Rl]=D[lo]=D[zl]=D[jl]=D[Wl]=D[Vl]=D[ec]=D[rc]=D[oc]=D[nc]=!0;D[Ll]=D[ao]=D[Ul]=!1;function Ft(r,t,e,o,n,i){var s,a=t&Bl,c=t&$l,l=t&Xl;if(e&&(s=n?e(r,o,n,i):e(r)),s!==void 0)return s;if(!El(r))return r;var h=Ml(r);if(h){if(s=Pl(r),!a)return yl(r,s)}else{var u=kl(r),p=u==ao||u==Fl;if(Dl(r))return gl(r,a);if(u==lo||u==so||p&&!n){if(s=c||p?{}:xl(r),!a)return c?Sl(r,dl(s,r)):ml(r,vl(s,r))}else{if(!D[u])return n?r:{};s=wl(r,u,a)}}i||(i=new ul);var f=i.get(r);if(f)return f;i.set(r,s),_l(r)?r.forEach(function(T){s.add(Ft(T,t,e,T,r,i))}):Ol(r)&&r.forEach(function(T,w){s.set(w,Ft(T,t,e,w,r,i))});var v=l?c?bl:Tl:c?Yl:Cl,m=h?void 0:v(r);return pl(m||r,function(T,w){m&&(w=T,T=r[w]),fl(s,w,Ft(T,t,e,w,r,i))}),s}var ic=Ft;function sc(r){var t=r==null?0:r.length;return t?r[t-1]:void 0}var ac=sc;function lc(r,t,e){var o=-1,n=r.length;t<0&&(t=-t>n?0:n+t),e=e>n?n:e,e<0&&(e+=n),n=t>e?0:e-t>>>0,t>>>=0;for(var i=Array(n);++o<n;)i[o]=r[o+t];return i}var cc=lc,hc=No,uc=cc;function pc(r,t){return t.length<2?r:hc(r,uc(t,0,-1))}var fc=pc,vc=Kr,dc=ac,gc=fc,yc=Ro;function mc(r,t){return t=vc(t,r),r=gc(r,t),r==null||delete r[yc(dc(t))]}var Sc=mc,Tc=Lr,bc=Xe,kc=qt,Pc="[object Object]",wc=Function.prototype,xc=Object.prototype,co=wc.toString,Mc=xc.hasOwnProperty,Dc=co.call(Object);function Oc(r){if(!kc(r)||Tc(r)!=Pc)return!1;var t=bc(r);if(t===null)return!0;var e=Mc.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&co.call(e)==Dc}var Ec=Oc,_c=Ec;function Cc(r){return _c(r)?void 0:r}var Yc=Cc,fr=Oe,Bc=Ao,$c=Gt,vr=fr?fr.isConcatSpreadable:void 0;function Xc(r){return $c(r)||Bc(r)||!!(vr&&r&&r[vr])}var Ac=Xc,Hc=Ye,Ic=Ac;function ho(r,t,e,o,n){var i=-1,s=r.length;for(e||(e=Ic),n||(n=[]);++i<s;){var a=r[i];t>0&&e(a)?t>1?ho(a,t-1,e,o,n):Hc(n,a):o||(n[n.length]=a)}return n}var Lc=ho,Fc=Lc;function Nc(r){var t=r==null?0:r.length;return t?Fc(r,1):[]}var Rc=Nc;function zc(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}var jc=zc,Wc=jc,dr=Math.max;function Vc(r,t,e){return t=dr(t===void 0?r.length-1:t,0),function(){for(var o=arguments,n=-1,i=dr(o.length-t,0),s=Array(i);++n<i;)s[n]=o[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=o[n];return a[t]=e(s),Wc(r,this,a)}}var Uc=Vc;function Kc(r){return function(){return r}}var Gc=Kc;function qc(r){return r}var Zc=qc,Jc=Gc,gr=zo,Qc=Zc,th=gr?function(r,t){return gr(r,"toString",{configurable:!0,enumerable:!1,value:Jc(t),writable:!0})}:Qc,eh=th,rh=800,oh=16,nh=Date.now;function ih(r){var t=0,e=0;return function(){var o=nh(),n=oh-(o-e);if(e=o,n>0){if(++t>=rh)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}var sh=ih,ah=eh,lh=sh,ch=lh(ah),hh=ch,uh=Rc,ph=Uc,fh=hh;function vh(r){return fh(ph(r,void 0,uh),r+"")}var dh=vh,gh=Ho,yh=ic,mh=Sc,Sh=Kr,Th=Mt,bh=Yc,kh=dh,Ph=io,wh=1,xh=2,Mh=4,Dh=kh(function(r,t){var e={};if(r==null)return e;var o=!1;t=gh(t,function(i){return i=Sh(i,r),o||(o=i.length>1),i}),Th(r,Ph(r),e),o&&(e=yh(e,wh|xh|Mh,bh));for(var n=t.length;n--;)mh(e,t[n]);return e}),Oh=Dh,Eh=function(t,e){return Oh(t,e)},dt=Eh;/*!
 * better-scroll / better-scroll
 * (c) 2016-2021 ustbhuangyi
 * Released under the MIT License.
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pe=function(r,t){return Pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])},Pe(r,t)};function te(r,t){Pe(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var K=function(){return K=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++){e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},K.apply(this,arguments)};function ie(r,t,e,o){function n(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function a(h){try{l(o.next(h))}catch(u){s(u)}}function c(h){try{l(o.throw(h))}catch(u){s(u)}}function l(h){h.done?i(h.value):n(h.value).then(a,c)}l((o=o.apply(r,t||[])).next())})}function se(r,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,n,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(h){return c([l,h])}}function c(l){if(o)throw new TypeError("Generator is already executing.");for(;e;)try{if(o=1,n&&(i=l[0]&2?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,n=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){e.label=l[1];break}if(l[0]===6&&e.label<i[1]){e.label=i[1],i=l;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(l);break}i[2]&&e.ops.pop(),e.trys.pop();continue}l=t.call(r,e)}catch(h){l=[6,h],n=0}finally{o=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function zt(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var o=Array(r),n=0,t=0;t<e;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,n++)o[n]=i[s];return o}var _h=[{sourceKey:"scroller.scrollBehaviorX.currentPos",key:"x"},{sourceKey:"scroller.scrollBehaviorY.currentPos",key:"y"},{sourceKey:"scroller.scrollBehaviorX.hasScroll",key:"hasHorizontalScroll"},{sourceKey:"scroller.scrollBehaviorY.hasScroll",key:"hasVerticalScroll"},{sourceKey:"scroller.scrollBehaviorX.contentSize",key:"scrollerWidth"},{sourceKey:"scroller.scrollBehaviorY.contentSize",key:"scrollerHeight"},{sourceKey:"scroller.scrollBehaviorX.maxScrollPos",key:"maxScrollX"},{sourceKey:"scroller.scrollBehaviorY.maxScrollPos",key:"maxScrollY"},{sourceKey:"scroller.scrollBehaviorX.minScrollPos",key:"minScrollX"},{sourceKey:"scroller.scrollBehaviorY.minScrollPos",key:"minScrollY"},{sourceKey:"scroller.scrollBehaviorX.movingDirection",key:"movingDirectionX"},{sourceKey:"scroller.scrollBehaviorY.movingDirection",key:"movingDirectionY"},{sourceKey:"scroller.scrollBehaviorX.direction",key:"directionX"},{sourceKey:"scroller.scrollBehaviorY.direction",key:"directionY"},{sourceKey:"scroller.actions.enabled",key:"enabled"},{sourceKey:"scroller.animater.pending",key:"pending"},{sourceKey:"scroller.animater.stop",key:"stop"},{sourceKey:"scroller.scrollTo",key:"scrollTo"},{sourceKey:"scroller.scrollBy",key:"scrollBy"},{sourceKey:"scroller.scrollToElement",key:"scrollToElement"},{sourceKey:"scroller.resetPosition",key:"resetPosition"}];function U(r){console.error("[BScroll warn]: "+r)}function yr(r,t){if(!r)throw new Error("[BScroll] "+t)}var G=typeof window!="undefined",gt=G&&navigator.userAgent.toLowerCase(),Ch=!!(gt&&/wechatdevtools/.test(gt)),Yh=gt&&gt.indexOf("android")>0,Bh=function(){if(typeof gt=="string"){var r=/os (\d\d?_\d(_\d)?)/,t=r.exec(gt);if(!t)return!1;var e=t[1].split("_").map(function(o){return parseInt(o,10)});return e[0]===13&&e[1]>=4}return!1}(),uo=!1;if(G){var $h="test-passive";try{var mr={};Object.defineProperty(mr,"passive",{get:function(){uo=!0}}),window.addEventListener($h,function(){},mr)}catch{}}function j(){return window.performance&&window.performance.now&&window.performance.timing?window.performance.now()+window.performance.timing.navigationStart:+new Date}var F=function(r,t){for(var e in t)r[e]=t[e];return r};function we(r){return r==null}function Xh(r,t){return Math.sqrt(r*r+t*t)}function Y(r,t,e){return r<t?t:r>e?e:r}function pt(r,t){if(r.findIndex)return r.findIndex(t);var e=-1;return r.some(function(o,n,i){var s=t(o,n,i);if(s)return e=n,s}),e}var He=G&&document.createElement("div").style,ft=function(){if(!G)return!1;for(var r=[{key:"standard",value:"transform"},{key:"webkit",value:"webkitTransform"},{key:"Moz",value:"MozTransform"},{key:"O",value:"OTransform"},{key:"ms",value:"msTransform"}],t=0,e=r;t<e.length;t++){var o=e[t];if(He[o.value]!==void 0)return o.key}return!1}();function q(r){return ft===!1?r:ft==="standard"?r==="transitionEnd"?"transitionend":r:ft+r.charAt(0).toUpperCase()+r.substr(1)}function po(r){return typeof r=="string"?document.querySelector(r):r}function Ah(r,t,e,o){var n=uo?{passive:!1,capture:!!o}:!!o;r.addEventListener(t,e,n)}function Hh(r,t,e,o){r.removeEventListener(t,e,{capture:!!o})}function Sr(r){for(var t=0,e=0;r;)t-=r.offsetLeft,e-=r.offsetTop,r=r.offsetParent;return{left:t,top:e}}function Ih(r){var t=r.getBoundingClientRect();return{left:-(t.left+window.pageXOffset),top:-(t.top+window.pageYOffset)}}var Lh=ft&&ft!=="standard"?"-"+ft.toLowerCase()+"-":"",Fh=q("transform"),fo=q("transition"),Nh=G&&q("perspective")in He,Tr=G&&("ontouchstart"in window||Ch),Rh=G&&fo in He,E={transform:Fh,transition:fo,transitionTimingFunction:q("transitionTimingFunction"),transitionDuration:q("transitionDuration"),transitionDelay:q("transitionDelay"),transformOrigin:q("transformOrigin"),transitionEnd:q("transitionEnd"),transitionProperty:q("transitionProperty")},ae={touchstart:1,touchmove:1,touchend:1,touchcancel:1,mousedown:2,mousemove:2,mouseup:2};function lt(r){if(r instanceof window.SVGElement){var t=r.getBoundingClientRect();return{top:t.top,left:t.left,width:t.width,height:t.height}}else return{top:r.offsetTop,left:r.offsetLeft,width:r.offsetWidth,height:r.offsetHeight}}function yt(r,t){for(var e in t)if(t[e].test(r[e]))return!0;return!1}var zh=yt;function jh(r,t){var e=document.createEvent("Event");e.initEvent(t,!0,!0),e.pageX=r.pageX,e.pageY=r.pageY,r.target.dispatchEvent(e)}function vo(r,t){t===void 0&&(t="click");var e;r.type==="mouseup"?e=r:(r.type==="touchend"||r.type==="touchcancel")&&(e=r.changedTouches[0]);var o={};e&&(o.screenX=e.screenX||0,o.screenY=e.screenY||0,o.clientX=e.clientX||0,o.clientY=e.clientY||0);var n,i=!0,s=!0,a=r.ctrlKey,c=r.shiftKey,l=r.altKey,h=r.metaKey,u={ctrlKey:a,shiftKey:c,altKey:l,metaKey:h};if(typeof MouseEvent!="undefined")try{n=new MouseEvent(t,F(K({bubbles:i,cancelable:s},u),o))}catch{p()}else p();function p(){n=document.createEvent("Event"),n.initEvent(t,i,s),F(n,o)}n.forwardedTouchEvent=!0,n._constructed=!0,r.target.dispatchEvent(n)}function Wh(r){vo(r,"dblclick")}function Vh(r,t){var e=t.firstChild;e?Uh(r,e):t.appendChild(r)}function Uh(r,t){var e=t.parentNode;e.insertBefore(r,t)}function Kh(r,t){r.removeChild(t)}function _t(r,t){var e=new RegExp("(^|\\s)"+t+"(\\s|$)");return e.test(r.className)}function Gh(r){return Array.prototype.slice.call(r,0)}function qh(r){return{width:r.clientWidth,height:r.clientHeight}}var H={swipe:{style:"cubic-bezier(0.23, 1, 0.32, 1)",fn:function(r){return 1+--r*r*r*r*r}},swipeBounce:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(r){return r*(2-r)}},bounce:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)",fn:function(r){return 1- --r*r*r*r}}},Zh=1e3/60,Q=G&&window;function go(){}var Ie=function(){return G?Q.requestAnimationFrame||Q.webkitRequestAnimationFrame||Q.mozRequestAnimationFrame||Q.oRequestAnimationFrame||function(r){return window.setTimeout(r,r.interval||Zh)}:go}(),et=function(){return G?Q.cancelAnimationFrame||Q.webkitCancelAnimationFrame||Q.mozCancelAnimationFrame||Q.oCancelAnimationFrame||function(r){window.clearTimeout(r)}:go}(),br=function(r){},le={enumerable:!0,configurable:!0,get:br,set:br},Jh=function(r,t){for(var e=t.split("."),o=0;o<e.length-1;o++)if(r=r[e[o]],typeof r!="object"||!r)return;var n=e.pop();return typeof r[n]=="function"?function(){return r[n].apply(r,arguments)}:r[n]},Qh=function(r,t,e){for(var o=t.split("."),n,i=0;i<o.length-1;i++)n=o[i],r[n]||(r[n]={}),r=r[n];r[o.pop()]=e};function tu(r,t,e){le.get=function(){return Jh(this,t)},le.set=function(n){Qh(this,t,n)},Object.defineProperty(r,e,le)}var Z=function(){function r(t){this.events={},this.eventTypes={},this.registerType(t)}return r.prototype.on=function(t,e,o){return o===void 0&&(o=this),this.hasType(t),this.events[t]||(this.events[t]=[]),this.events[t].push([e,o]),this},r.prototype.once=function(t,e,o){var n=this;o===void 0&&(o=this),this.hasType(t);var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];n.off(t,i);var c=e.apply(o,s);if(c===!0)return c};return i.fn=e,this.on(t,i),this},r.prototype.off=function(t,e){if(!t&&!e)return this.events={},this;if(t){if(this.hasType(t),!e)return this.events[t]=[],this;var o=this.events[t];if(!o)return this;for(var n=o.length;n--;)(o[n][0]===e||o[n][0]&&o[n][0].fn===e)&&o.splice(n,1);return this}},r.prototype.trigger=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.hasType(t);var n=this.events[t];if(!!n)for(var i=n.length,s=zt(n),a,c=0;c<i;c++){var l=s[c],h=l[0],u=l[1];if(h&&(a=h.apply(u,e),a===!0))return a}},r.prototype.registerType=function(t){var e=this;t.forEach(function(o){e.eventTypes[o]=o})},r.prototype.destroy=function(){this.events={},this.eventTypes={}},r.prototype.hasType=function(t){var e=this.eventTypes,o=e[t]===t;o||U('EventEmitter has used unknown event type: "'+t+'", should be oneof ['+(""+Object.keys(e).map(function(n){return JSON.stringify(n)}))+"]")},r}(),R=function(){function r(t,e){this.wrapper=t,this.events=e,this.addDOMEvents()}return r.prototype.destroy=function(){this.removeDOMEvents(),this.events=[]},r.prototype.addDOMEvents=function(){this.handleDOMEvents(Ah)},r.prototype.removeDOMEvents=function(){this.handleDOMEvents(Hh)},r.prototype.handleDOMEvents=function(t){var e=this,o=this.wrapper;this.events.forEach(function(n){t(o,n.name,e,!!n.capture)})},r.prototype.handleEvent=function(t){var e=t.type;this.events.some(function(o){return o.name===e?(o.handler(t),!0):!1})},r}(),eu=function(){function r(){}return r}(),ru=function(r){te(t,r);function t(){var e=r.call(this)||this;return e.startX=0,e.startY=0,e.scrollX=!1,e.scrollY=!0,e.freeScroll=!1,e.directionLockThreshold=0,e.eventPassthrough="",e.click=!1,e.dblclick=!1,e.tap="",e.bounce={top:!0,bottom:!0,left:!0,right:!0},e.bounceTime=800,e.momentum=!0,e.momentumLimitTime=300,e.momentumLimitDistance=15,e.swipeTime=2500,e.swipeBounceTime=500,e.deceleration=.0015,e.flickLimitTime=200,e.flickLimitDistance=100,e.resizePolling=60,e.probeType=0,e.stopPropagation=!1,e.preventDefault=!0,e.preventDefaultException={tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|AUDIO)$/},e.tagException={tagName:/^TEXTAREA$/},e.HWCompositing=!0,e.useTransition=!0,e.bindToWrapper=!1,e.bindToTarget=!1,e.disableMouse=Tr,e.disableTouch=!Tr,e.autoBlur=!0,e.autoEndDistance=5,e.outOfBoundaryDampingFactor=1/3,e.specifiedIndexAsContent=0,e.quadrant=1,e}return t.prototype.merge=function(e){if(!e)return this;for(var o in e){if(o==="bounce"){this.bounce=this.resolveBounce(e[o]);continue}this[o]=e[o]}return this},t.prototype.process=function(){return this.translateZ=this.HWCompositing&&Nh?" translateZ(1px)":"",this.useTransition=this.useTransition&&Rh,this.preventDefault=!this.eventPassthrough&&this.preventDefault,this.scrollX=this.eventPassthrough==="horizontal"?!1:this.scrollX,this.scrollY=this.eventPassthrough==="vertical"?!1:this.scrollY,this.freeScroll=this.freeScroll&&!this.eventPassthrough,this.scrollX=this.freeScroll?!0:this.scrollX,this.scrollY=this.freeScroll?!0:this.scrollY,this.directionLockThreshold=this.eventPassthrough?0:this.directionLockThreshold,this},t.prototype.resolveBounce=function(e){var o={top:!0,right:!0,bottom:!0,left:!0},n={top:!1,right:!1,bottom:!1,left:!1},i;return typeof e=="object"?i=F(o,e):i=e?o:n,i},t}(eu),ou=function(){function r(t,e){this.wrapper=t,this.options=e,this.hooks=new Z(["beforeStart","start","move","end","click"]),this.handleDOMEvents()}return r.prototype.handleDOMEvents=function(){var t=this.options,e=t.bindToWrapper,o=t.disableMouse,n=t.disableTouch,i=t.click,s=this.wrapper,a=e?s:window,c=[],l=[],h=!n,u=!o;i&&c.push({name:"click",handler:this.click.bind(this),capture:!0}),h&&(c.push({name:"touchstart",handler:this.start.bind(this)}),l.push({name:"touchmove",handler:this.move.bind(this)},{name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),u&&(c.push({name:"mousedown",handler:this.start.bind(this)}),l.push({name:"mousemove",handler:this.move.bind(this)},{name:"mouseup",handler:this.end.bind(this)})),this.wrapperEventRegister=new R(s,c),this.targetEventRegister=new R(a,l)},r.prototype.beforeHandler=function(t,e){var o=this.options,n=o.preventDefault,i=o.stopPropagation,s=o.preventDefaultException,a={start:function(){return n&&!yt(t.target,s)},end:function(){return n&&!yt(t.target,s)},move:function(){return n}};a[e]()&&t.preventDefault(),i&&t.stopPropagation()},r.prototype.setInitiated=function(t){t===void 0&&(t=0),this.initiated=t},r.prototype.start=function(t){var e=ae[t.type];if(!(this.initiated&&this.initiated!==e)){if(this.setInitiated(e),zh(t.target,this.options.tagException)){this.setInitiated();return}if(!(e===2&&t.button!==0)&&!this.hooks.trigger(this.hooks.eventTypes.beforeStart,t)){this.beforeHandler(t,"start");var o=t.touches?t.touches[0]:t;this.pointX=o.pageX,this.pointY=o.pageY,this.hooks.trigger(this.hooks.eventTypes.start,t)}}},r.prototype.move=function(t){if(ae[t.type]===this.initiated){this.beforeHandler(t,"move");var e=t.touches?t.touches[0]:t,o=e.pageX-this.pointX,n=e.pageY-this.pointY;if(this.pointX=e.pageX,this.pointY=e.pageY,!this.hooks.trigger(this.hooks.eventTypes.move,{deltaX:o,deltaY:n,e:t})){var i=document.documentElement.scrollLeft||window.pageXOffset||document.body.scrollLeft,s=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,a=this.pointX-i,c=this.pointY-s,l=this.options.autoEndDistance;(a>document.documentElement.clientWidth-l||c>document.documentElement.clientHeight-l||a<l||c<l)&&this.end(t)}}},r.prototype.end=function(t){ae[t.type]===this.initiated&&(this.setInitiated(),this.beforeHandler(t,"end"),this.hooks.trigger(this.hooks.eventTypes.end,t))},r.prototype.click=function(t){this.hooks.trigger(this.hooks.eventTypes.click,t)},r.prototype.setContent=function(t){t!==this.wrapper&&(this.wrapper=t,this.rebindDOMEvents())},r.prototype.rebindDOMEvents=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.handleDOMEvents()},r.prototype.destroy=function(){this.wrapperEventRegister.destroy(),this.targetEventRegister.destroy(),this.hooks.destroy()},r}(),ce={x:["translateX","px"],y:["translateY","px"]},nu=function(){function r(t){this.setContent(t),this.hooks=new Z(["beforeTranslate","translate"])}return r.prototype.getComputedPosition=function(){var t=window.getComputedStyle(this.content,null),e=t[E.transform].split(")")[0].split(", "),o=+(e[12]||e[4])||0,n=+(e[13]||e[5])||0;return{x:o,y:n}},r.prototype.translate=function(t){var e=[];Object.keys(t).forEach(function(o){if(!!ce[o]){var n=ce[o][0];if(n){var i=ce[o][1],s=t[o];e.push(n+"("+s+i+")")}}}),this.hooks.trigger(this.hooks.eventTypes.beforeTranslate,e,t),this.style[E.transform]=e.join(" "),this.hooks.trigger(this.hooks.eventTypes.translate,t)},r.prototype.setContent=function(t){this.content!==t&&(this.content=t,this.style=t.style)},r.prototype.destroy=function(){this.hooks.destroy()},r}(),yo=function(){function r(t,e,o){this.translater=e,this.options=o,this.timer=0,this.hooks=new Z(["move","end","beforeForceStop","forceStop","callStop","time","timeFunction"]),this.setContent(t)}return r.prototype.translate=function(t){this.translater.translate(t)},r.prototype.setPending=function(t){this.pending=t},r.prototype.setForceStopped=function(t){this.forceStopped=t},r.prototype.setCallStop=function(t){this.callStopWhenPending=t},r.prototype.setContent=function(t){this.content!==t&&(this.content=t,this.style=t.style,this.stop())},r.prototype.clearTimer=function(){this.timer&&(et(this.timer),this.timer=0)},r.prototype.destroy=function(){this.hooks.destroy(),et(this.timer)},r}(),iu=function(r,t,e,o){var n=function(l,h){var u=l-h,p=u>0?-1:u<0?1:0;return p},i=n(t.x,r.x),s=n(t.y,r.y),a=e.x-o.x,c=e.y-o.y;return i*a<=0&&s*c<=0},su=function(r){te(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.startProbe=function(e,o){var n=this,i=e,s=function(){var a=n.translater.getComputedPosition();iu(e,o,a,i)&&n.hooks.trigger(n.hooks.eventTypes.move,a),n.pending||(n.callStopWhenPending?n.callStopWhenPending=!1:n.hooks.trigger(n.hooks.eventTypes.end,a)),i=a,n.pending&&(n.timer=Ie(s))};this.callStopWhenPending&&this.setCallStop(!1),et(this.timer),s()},t.prototype.transitionTime=function(e){e===void 0&&(e=0),this.style[E.transitionDuration]=e+"ms",this.hooks.trigger(this.hooks.eventTypes.time,e)},t.prototype.transitionTimingFunction=function(e){this.style[E.transitionTimingFunction]=e,this.hooks.trigger(this.hooks.eventTypes.timeFunction,e)},t.prototype.transitionProperty=function(){this.style[E.transitionProperty]=E.transform},t.prototype.move=function(e,o,n,i){this.setPending(n>0),this.transitionTimingFunction(i),this.transitionProperty(),this.transitionTime(n),this.translate(o);var s=this.options.probeType===3;n&&s&&this.startProbe(e,o),n||(this._reflow=this.content.offsetHeight,s&&this.hooks.trigger(this.hooks.eventTypes.move,o),this.hooks.trigger(this.hooks.eventTypes.end,o))},t.prototype.doStop=function(){var e=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),e){this.setPending(!1),et(this.timer);var o=this.translater.getComputedPosition(),n=o.x,i=o.y;this.transitionTime(),this.translate({x:n,y:i}),this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,{x:n,y:i})}return e},t.prototype.stop=function(){var e=this.doStop();e&&this.hooks.trigger(this.hooks.eventTypes.callStop)},t}(yo),au=function(r){te(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.move=function(e,o,n,i){if(!n){this.translate(o),this.options.probeType===3&&this.hooks.trigger(this.hooks.eventTypes.move,o),this.hooks.trigger(this.hooks.eventTypes.end,o);return}this.animate(e,o,n,i)},t.prototype.animate=function(e,o,n,i){var s=this,a=j(),c=a+n,l=this.options.probeType===3,h=function(){var u=j();if(u>=c){s.translate(o),l&&s.hooks.trigger(s.hooks.eventTypes.move,o),s.hooks.trigger(s.hooks.eventTypes.end,o);return}u=(u-a)/n;var p=i(u),f={};Object.keys(o).forEach(function(v){var m=e[v],T=o[v];f[v]=(T-m)*p+m}),s.translate(f),l&&s.hooks.trigger(s.hooks.eventTypes.move,f),s.pending&&(s.timer=Ie(h)),s.pending||(s.callStopWhenPending?s.callStopWhenPending=!1:s.hooks.trigger(s.hooks.eventTypes.end,o))};this.setPending(!0),this.callStopWhenPending&&this.setCallStop(!1),et(this.timer),h()},t.prototype.doStop=function(){var e=this.pending;if(this.setForceStopped(!1),this.setCallStop(!1),e){this.setPending(!1),et(this.timer);var o=this.translater.getComputedPosition();this.setForceStopped(!0),this.setCallStop(!0),this.hooks.trigger(this.hooks.eventTypes.forceStop,o)}return e},t.prototype.stop=function(){var e=this.doStop();e&&this.hooks.trigger(this.hooks.eventTypes.callStop)},t}(yo);function lu(r,t,e){var o=e.useTransition,n={};return Object.defineProperty(n,"probeType",{enumerable:!0,configurable:!1,get:function(){return e.probeType}}),o?new su(r,t,n):new au(r,t,n)}var kr=function(){function r(t,e,o){this.wrapper=t,this.options=o,this.hooks=new Z(["beforeComputeBoundary","computeBoundary","momentum","end","ignoreHasScroll"]),this.refresh(e)}return r.prototype.start=function(){this.dist=0,this.setMovingDirection(0),this.setDirection(0)},r.prototype.move=function(t){return t=this.hasScroll?t:0,this.setMovingDirection(t),this.performDampingAlgorithm(t,this.options.outOfBoundaryDampingFactor)},r.prototype.setMovingDirection=function(t){this.movingDirection=t>0?-1:t<0?1:0},r.prototype.setDirection=function(t){this.direction=t>0?-1:t<0?1:0},r.prototype.performDampingAlgorithm=function(t,e){var o=this.currentPos+t;return(o>this.minScrollPos||o<this.maxScrollPos)&&(o>this.minScrollPos&&this.options.bounces[0]||o<this.maxScrollPos&&this.options.bounces[1]?o=this.currentPos+t*e:o=o>this.minScrollPos?this.minScrollPos:this.maxScrollPos),o},r.prototype.end=function(t){var e={duration:0},o=Math.abs(this.currentPos-this.startPos);if(this.options.momentum&&t<this.options.momentumLimitTime&&o>this.options.momentumLimitDistance){var n=this.direction===-1&&this.options.bounces[0]||this.direction===1&&this.options.bounces[1]?this.wrapperSize:0;e=this.hasScroll?this.momentum(this.currentPos,this.startPos,t,this.maxScrollPos,this.minScrollPos,n,this.options):{destination:this.currentPos,duration:0}}else this.hooks.trigger(this.hooks.eventTypes.end,e);return e},r.prototype.momentum=function(t,e,o,n,i,s,a){a===void 0&&(a=this.options);var c=t-e,l=Math.abs(c)/o,h=a.deceleration,u=a.swipeBounceTime,p=a.swipeTime,f=Math.min(p,l*2/h),v={destination:t+l*l/h*(c<0?-1:1),duration:f,rate:15};return this.hooks.trigger(this.hooks.eventTypes.momentum,v,c),v.destination<n?(v.destination=s?Math.max(n-s/4,n-s/v.rate*l):n,v.duration=u):v.destination>i&&(v.destination=s?Math.min(i+s/4,i+s/v.rate*l):i,v.duration=u),v.destination=Math.round(v.destination),v},r.prototype.updateDirection=function(){var t=this.currentPos-this.absStartPos;this.setDirection(t)},r.prototype.refresh=function(t){var e=this.options.rect,o=e.size,n=e.position,i=window.getComputedStyle(this.wrapper,null).position==="static",s=lt(this.wrapper);this.wrapperSize=this.wrapper[o==="width"?"clientWidth":"clientHeight"],this.setContent(t);var a=lt(this.content);this.contentSize=a[o],this.relativeOffset=a[n],i&&(this.relativeOffset-=s[n]),this.computeBoundary(),this.setDirection(0)},r.prototype.setContent=function(t){t!==this.content&&(this.content=t,this.resetState())},r.prototype.resetState=function(){this.currentPos=0,this.startPos=0,this.dist=0,this.setDirection(0),this.setMovingDirection(0),this.resetStartPos()},r.prototype.computeBoundary=function(){this.hooks.trigger(this.hooks.eventTypes.beforeComputeBoundary);var t={minScrollPos:0,maxScrollPos:this.wrapperSize-this.contentSize};t.maxScrollPos<0&&(t.maxScrollPos-=this.relativeOffset,this.options.specifiedIndexAsContent===0&&(t.minScrollPos=-this.relativeOffset)),this.hooks.trigger(this.hooks.eventTypes.computeBoundary,t),this.minScrollPos=t.minScrollPos,this.maxScrollPos=t.maxScrollPos,this.hasScroll=this.options.scrollable&&this.maxScrollPos<this.minScrollPos,!this.hasScroll&&this.minScrollPos<this.maxScrollPos&&(this.maxScrollPos=this.minScrollPos,this.contentSize=this.wrapperSize)},r.prototype.updatePosition=function(t){this.currentPos=t},r.prototype.getCurrentPos=function(){return this.currentPos},r.prototype.checkInBoundary=function(){var t=this.adjustPosition(this.currentPos),e=t===this.getCurrentPos();return{position:t,inBoundary:e}},r.prototype.adjustPosition=function(t){return!this.hasScroll&&!this.hooks.trigger(this.hooks.eventTypes.ignoreHasScroll)?t=this.minScrollPos:t>this.minScrollPos?t=this.minScrollPos:t<this.maxScrollPos&&(t=this.maxScrollPos),t},r.prototype.updateStartPos=function(){this.startPos=this.currentPos},r.prototype.updateAbsStartPos=function(){this.absStartPos=this.currentPos},r.prototype.resetStartPos=function(){this.updateStartPos(),this.updateAbsStartPos()},r.prototype.getAbsDist=function(t){return this.dist+=t,Math.abs(this.dist)},r.prototype.destroy=function(){this.hooks.destroy()},r}(),Ct,Yt,Bt,$t,Pr=(Ct={},Ct.yes=function(r){return!0},Ct.no=function(r){return r.preventDefault(),!1},Ct),cu=(Yt={},Yt.horizontal=(Bt={},Bt.yes="horizontal",Bt.no="vertical",Bt),Yt.vertical=($t={},$t.yes="vertical",$t.no="horizontal",$t),Yt),hu=function(){function r(t,e,o){this.directionLockThreshold=t,this.freeScroll=e,this.eventPassthrough=o,this.reset()}return r.prototype.reset=function(){this.directionLocked=""},r.prototype.checkMovingDirection=function(t,e,o){return this.computeDirectionLock(t,e),this.handleEventPassthrough(o)},r.prototype.adjustDelta=function(t,e){return this.directionLocked==="horizontal"?e=0:this.directionLocked==="vertical"&&(t=0),{deltaX:t,deltaY:e}},r.prototype.computeDirectionLock=function(t,e){this.directionLocked===""&&!this.freeScroll&&(t>e+this.directionLockThreshold?this.directionLocked="horizontal":e>=t+this.directionLockThreshold?this.directionLocked="vertical":this.directionLocked="none")},r.prototype.handleEventPassthrough=function(t){var e=cu[this.directionLocked];if(e){if(this.eventPassthrough===e.yes)return Pr.yes(t);if(this.eventPassthrough===e.no)return Pr.no(t)}return!1},r}(),uu=function(r,t,e){return e===2?[t,-r]:e===3?[-r,-t]:e===4?[-t,r]:[r,t]},pu=function(){function r(t,e,o,n,i){this.hooks=new Z(["start","beforeMove","scrollStart","scroll","beforeEnd","end","scrollEnd","contentNotMoved","detectMovingDirection","coordinateTransformation"]),this.scrollBehaviorX=t,this.scrollBehaviorY=e,this.actionsHandler=o,this.animater=n,this.options=i,this.directionLockAction=new hu(i.directionLockThreshold,i.freeScroll,i.eventPassthrough),this.enabled=!0,this.bindActionsHandler()}return r.prototype.bindActionsHandler=function(){var t=this;this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.start,function(e){return t.enabled?t.handleStart(e):!0}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.move,function(e){var o=e.deltaX,n=e.deltaY,i=e.e;if(!t.enabled)return!0;var s=uu(o,n,t.options.quadrant),a=s[0],c=s[1],l={deltaX:a,deltaY:c};return t.hooks.trigger(t.hooks.eventTypes.coordinateTransformation,l),t.handleMove(l.deltaX,l.deltaY,i)}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.end,function(e){return t.enabled?t.handleEnd(e):!0}),this.actionsHandler.hooks.on(this.actionsHandler.hooks.eventTypes.click,function(e){t.enabled&&!e._constructed&&t.handleClick(e)})},r.prototype.handleStart=function(t){var e=j();this.fingerMoved=!1,this.contentMoved=!1,this.startTime=e,this.directionLockAction.reset(),this.scrollBehaviorX.start(),this.scrollBehaviorY.start(),this.animater.doStop(),this.scrollBehaviorX.resetStartPos(),this.scrollBehaviorY.resetStartPos(),this.hooks.trigger(this.hooks.eventTypes.start,t)},r.prototype.handleMove=function(t,e,o){if(!this.hooks.trigger(this.hooks.eventTypes.beforeMove,o)){var n=this.scrollBehaviorX.getAbsDist(t),i=this.scrollBehaviorY.getAbsDist(e),s=j();if(this.checkMomentum(n,i,s))return!0;if(this.directionLockAction.checkMovingDirection(n,i,o))return this.actionsHandler.setInitiated(),!0;var a=this.directionLockAction.adjustDelta(t,e),c=this.scrollBehaviorX.getCurrentPos(),l=this.scrollBehaviorX.move(a.deltaX),h=this.scrollBehaviorY.getCurrentPos(),u=this.scrollBehaviorY.move(a.deltaY);if(!this.hooks.trigger(this.hooks.eventTypes.detectMovingDirection)){this.fingerMoved||(this.fingerMoved=!0);var p=l!==c||u!==h;!this.contentMoved&&!p&&this.hooks.trigger(this.hooks.eventTypes.contentNotMoved),!this.contentMoved&&p&&(this.contentMoved=!0,this.hooks.trigger(this.hooks.eventTypes.scrollStart)),this.contentMoved&&p&&(this.animater.translate({x:l,y:u}),this.dispatchScroll(s))}}},r.prototype.dispatchScroll=function(t){t-this.startTime>this.options.momentumLimitTime&&(this.startTime=t,this.scrollBehaviorX.updateStartPos(),this.scrollBehaviorY.updateStartPos(),this.options.probeType===1&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())),this.options.probeType>1&&this.hooks.trigger(this.hooks.eventTypes.scroll,this.getCurrentPos())},r.prototype.checkMomentum=function(t,e,o){return o-this.endTime>this.options.momentumLimitTime&&e<this.options.momentumLimitDistance&&t<this.options.momentumLimitDistance},r.prototype.handleEnd=function(t){if(!this.hooks.trigger(this.hooks.eventTypes.beforeEnd,t)){var e=this.getCurrentPos();if(this.scrollBehaviorX.updateDirection(),this.scrollBehaviorY.updateDirection(),this.hooks.trigger(this.hooks.eventTypes.end,t,e))return!0;e=this.ensureIntegerPos(e),this.animater.translate(e),this.endTime=j();var o=this.endTime-this.startTime;this.hooks.trigger(this.hooks.eventTypes.scrollEnd,e,o)}},r.prototype.ensureIntegerPos=function(t){this.ensuringInteger=!0;var e=t.x,o=t.y,n=this.scrollBehaviorX,i=n.minScrollPos,s=n.maxScrollPos,a=this.scrollBehaviorY,c=a.minScrollPos,l=a.maxScrollPos;return e=e>0?Math.ceil(e):Math.floor(e),o=o>0?Math.ceil(o):Math.floor(o),e=Y(e,s,i),o=Y(o,l,c),{x:e,y:o}},r.prototype.handleClick=function(t){yt(t.target,this.options.preventDefaultException)||(t.preventDefault(),t.stopPropagation())},r.prototype.getCurrentPos=function(){return{x:this.scrollBehaviorX.getCurrentPos(),y:this.scrollBehaviorY.getCurrentPos()}},r.prototype.refresh=function(){this.endTime=0},r.prototype.destroy=function(){this.hooks.destroy()},r}();function fu(r){var t=["click","bindToWrapper","disableMouse","disableTouch","preventDefault","stopPropagation","tagException","preventDefaultException","autoEndDistance"].reduce(function(e,o){return e[o]=r[o],e},{});return t}function wr(r,t,e,o){var n=["momentum","momentumLimitTime","momentumLimitDistance","deceleration","swipeBounceTime","swipeTime","outOfBoundaryDampingFactor","specifiedIndexAsContent"].reduce(function(i,s){return i[s]=r[s],i},{});return n.scrollable=!!r[t],n.bounces=e,n.rect=o,n}function xe(r,t,e){e.forEach(function(o){var n,i;typeof o=="string"?n=i=o:(n=o.source,i=o.target),r.on(n,function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return t.trigger.apply(t,zt([i],s))})})}function vu(r,t){for(var e=Object.keys(r),o=0,n=e;o<n.length;o++){var i=n[o];if(r[i]!==t[i])return!1}return!0}var xr=1,du=function(){function r(t,e,o){this.wrapper=t,this.content=e,this.resizeTimeout=0,this.hooks=new Z(["beforeStart","beforeMove","beforeScrollStart","scrollStart","scroll","beforeEnd","scrollEnd","resize","touchEnd","end","flick","scrollCancel","momentum","scrollTo","minDistanceScroll","scrollToElement","beforeRefresh"]),this.options=o;var n=this.options.bounce,i=n.left,s=n.right,a=n.top,c=n.bottom;this.scrollBehaviorX=new kr(t,e,wr(o,"scrollX",[i,s],{size:"width",position:"left"})),this.scrollBehaviorY=new kr(t,e,wr(o,"scrollY",[a,c],{size:"height",position:"top"})),this.translater=new nu(this.content),this.animater=lu(this.content,this.translater,this.options),this.actionsHandler=new ou(this.options.bindToTarget?this.content:t,fu(this.options)),this.actions=new pu(this.scrollBehaviorX,this.scrollBehaviorY,this.actionsHandler,this.animater,this.options);var l=this.resize.bind(this);this.resizeRegister=new R(window,[{name:"orientationchange",handler:l},{name:"resize",handler:l}]),this.registerTransitionEnd(),this.init()}return r.prototype.init=function(){var t=this;this.bindTranslater(),this.bindAnimater(),this.bindActions(),this.hooks.on(this.hooks.eventTypes.scrollEnd,function(){t.togglePointerEvents(!0)})},r.prototype.registerTransitionEnd=function(){this.transitionEndRegister=new R(this.content,[{name:E.transitionEnd,handler:this.transitionEnd.bind(this)}])},r.prototype.bindTranslater=function(){var t=this,e=this.translater.hooks;e.on(e.eventTypes.beforeTranslate,function(o){t.options.translateZ&&o.push(t.options.translateZ)}),e.on(e.eventTypes.translate,function(o){var n=t.getCurrentPos();if(t.updatePositions(o),t.actions.ensuringInteger===!0){t.actions.ensuringInteger=!1;return}(o.x!==n.x||o.y!==n.y)&&t.togglePointerEvents(!1)})},r.prototype.bindAnimater=function(){var t=this;this.animater.hooks.on(this.animater.hooks.eventTypes.end,function(e){t.resetPosition(t.options.bounceTime)||(t.animater.setPending(!1),t.hooks.trigger(t.hooks.eventTypes.scrollEnd,e))}),xe(this.animater.hooks,this.hooks,[{source:this.animater.hooks.eventTypes.move,target:this.hooks.eventTypes.scroll},{source:this.animater.hooks.eventTypes.forceStop,target:this.hooks.eventTypes.scrollEnd}])},r.prototype.bindActions=function(){var t=this,e=this.actions;xe(e.hooks,this.hooks,[{source:e.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeStart},{source:e.hooks.eventTypes.start,target:this.hooks.eventTypes.beforeScrollStart},{source:e.hooks.eventTypes.beforeMove,target:this.hooks.eventTypes.beforeMove},{source:e.hooks.eventTypes.scrollStart,target:this.hooks.eventTypes.scrollStart},{source:e.hooks.eventTypes.scroll,target:this.hooks.eventTypes.scroll},{source:e.hooks.eventTypes.beforeEnd,target:this.hooks.eventTypes.beforeEnd}]),e.hooks.on(e.hooks.eventTypes.end,function(o,n){if(t.hooks.trigger(t.hooks.eventTypes.touchEnd,n),t.hooks.trigger(t.hooks.eventTypes.end,n)||!e.fingerMoved&&(t.hooks.trigger(t.hooks.eventTypes.scrollCancel),t.checkClick(o)))return!0;if(t.resetPosition(t.options.bounceTime,H.bounce))return t.animater.setForceStopped(!1),!0}),e.hooks.on(e.hooks.eventTypes.scrollEnd,function(o,n){var i=Math.abs(o.x-t.scrollBehaviorX.startPos),s=Math.abs(o.y-t.scrollBehaviorY.startPos);if(t.checkFlick(n,i,s)){t.animater.setForceStopped(!1),t.hooks.trigger(t.hooks.eventTypes.flick);return}if(t.momentum(o,n)){t.animater.setForceStopped(!1);return}e.contentMoved&&t.hooks.trigger(t.hooks.eventTypes.scrollEnd,o),t.animater.forceStopped&&t.animater.setForceStopped(!1)})},r.prototype.checkFlick=function(t,e,o){var n=1;if(this.hooks.events.flick.length>1&&t<this.options.flickLimitTime&&e<this.options.flickLimitDistance&&o<this.options.flickLimitDistance&&(o>n||e>n))return!0},r.prototype.momentum=function(t,e){var o={time:0,easing:H.swiper,newX:t.x,newY:t.y},n=this.scrollBehaviorX.end(e),i=this.scrollBehaviorY.end(e);if(o.newX=we(n.destination)?o.newX:n.destination,o.newY=we(i.destination)?o.newY:i.destination,o.time=Math.max(n.duration,i.duration),this.hooks.trigger(this.hooks.eventTypes.momentum,o,this),o.newX!==t.x||o.newY!==t.y)return(o.newX>this.scrollBehaviorX.minScrollPos||o.newX<this.scrollBehaviorX.maxScrollPos||o.newY>this.scrollBehaviorY.minScrollPos||o.newY<this.scrollBehaviorY.maxScrollPos)&&(o.easing=H.swipeBounce),this.scrollTo(o.newX,o.newY,o.time,o.easing),!0},r.prototype.checkClick=function(t){var e={preventClick:this.animater.forceStopped};if(this.hooks.trigger(this.hooks.eventTypes.checkClick))return this.animater.setForceStopped(!1),!0;if(!e.preventClick){var o=this.options.dblclick,n=!1;if(o&&this.lastClickTime){var i=o.delay,s=i===void 0?300:i;j()-this.lastClickTime<s&&(n=!0,Wh(t))}return this.options.tap&&jh(t,this.options.tap),this.options.click&&!yt(t.target,this.options.preventDefaultException)&&vo(t),this.lastClickTime=n?null:j(),!0}return!1},r.prototype.resize=function(){var t=this;!this.actions.enabled||(Yh&&(this.wrapper.scrollTop=0),clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(function(){t.hooks.trigger(t.hooks.eventTypes.resize)},this.options.resizePolling))},r.prototype.transitionEnd=function(t){if(!(t.target!==this.content||!this.animater.pending)){var e=this.animater;e.transitionTime(),this.resetPosition(this.options.bounceTime,H.bounce)||(this.animater.setPending(!1),this.options.probeType!==3&&this.hooks.trigger(this.hooks.eventTypes.scrollEnd,this.getCurrentPos()))}},r.prototype.togglePointerEvents=function(t){t===void 0&&(t=!0);for(var e=this.content.children.length?this.content.children:[this.content],o=t?"auto":"none",n=0;n<e.length;n++){var i=e[n];i.isBScrollContainer||(i.style.pointerEvents=o)}},r.prototype.refresh=function(t){var e=this.setContent(t);this.hooks.trigger(this.hooks.eventTypes.beforeRefresh),this.scrollBehaviorX.refresh(t),this.scrollBehaviorY.refresh(t),e&&(this.translater.setContent(t),this.animater.setContent(t),this.transitionEndRegister.destroy(),this.registerTransitionEnd(),this.options.bindToTarget&&this.actionsHandler.setContent(t)),this.actions.refresh(),this.wrapperOffset=Sr(this.wrapper)},r.prototype.setContent=function(t){var e=t!==this.content;return e&&(this.content=t),e},r.prototype.scrollBy=function(t,e,o,n){o===void 0&&(o=0);var i=this.getCurrentPos(),s=i.x,a=i.y;n=n||H.bounce,t+=s,e+=a,this.scrollTo(t,e,o,n)},r.prototype.scrollTo=function(t,e,o,n,i){o===void 0&&(o=0),n===void 0&&(n=H.bounce),i===void 0&&(i={start:{},end:{}});var s=this.options.useTransition?n.style:n.fn,a=this.getCurrentPos(),c=K({x:a.x,y:a.y},i.start),l=K({x:t,y:e},i.end);if(this.hooks.trigger(this.hooks.eventTypes.scrollTo,l),!vu(c,l)){var h=Math.abs(l.x-c.x),u=Math.abs(l.y-c.y);h<xr&&u<xr&&(o=0,this.hooks.trigger(this.hooks.eventTypes.minDistanceScroll)),this.animater.move(c,l,o,s)}},r.prototype.scrollToElement=function(t,e,o,n,i){var s=po(t),a=Sr(s),c=function(h,u,p){return typeof h=="number"?h:h?Math.round(u/2-p/2):0};o=c(o,s.offsetWidth,this.wrapper.offsetWidth),n=c(n,s.offsetHeight,this.wrapper.offsetHeight);var l=function(h,u,p,f){return h-=u,h=f.adjustPosition(h-p),h};a.left=l(a.left,this.wrapperOffset.left,o,this.scrollBehaviorX),a.top=l(a.top,this.wrapperOffset.top,n,this.scrollBehaviorY),!this.hooks.trigger(this.hooks.eventTypes.scrollToElement,s,a)&&this.scrollTo(a.left,a.top,e,i)},r.prototype.resetPosition=function(t,e){t===void 0&&(t=0),e===void 0&&(e=H.bounce);var o=this.scrollBehaviorX.checkInBoundary(),n=o.position,i=o.inBoundary,s=this.scrollBehaviorY.checkInBoundary(),a=s.position,c=s.inBoundary;return i&&c?!1:(Bh&&this.reflow(),this.scrollTo(n,a,t,e),!0)},r.prototype.reflow=function(){this._reflow=this.content.offsetHeight},r.prototype.updatePositions=function(t){this.scrollBehaviorX.updatePosition(t.x),this.scrollBehaviorY.updatePosition(t.y)},r.prototype.getCurrentPos=function(){return this.actions.getCurrentPos()},r.prototype.enable=function(){this.actions.enabled=!0},r.prototype.disable=function(){et(this.animater.timer),this.actions.enabled=!1},r.prototype.destroy=function(){var t=this,e=["resizeRegister","transitionEndRegister","actionsHandler","actions","hooks","animater","translater","scrollBehaviorX","scrollBehaviorY"];e.forEach(function(o){return t[o].destroy()})},r}(),ee=function(r){te(t,r);function t(e,o){var n=r.call(this,["refresh","contentChanged","enable","disable","beforeScrollStart","scrollStart","scroll","scrollEnd","scrollCancel","touchEnd","flick","destroy"])||this,i=po(e);return i?(n.plugins={},n.options=new ru().merge(o).process(),n.setContent(i).valid&&(n.hooks=new Z(["refresh","enable","disable","destroy","beforeInitialScrollTo","contentChanged"]),n.init(i)),n):(U("Can not resolve the wrapper DOM."),n)}return t.use=function(e){var o=e.pluginName,n=t.plugins.some(function(i){return e===i.ctor});return n?t:we(o)?(U("Plugin Class must specify plugin's name in static property by 'pluginName' field."),t):(t.pluginsMap[o]=!0,t.plugins.push({name:o,applyOrder:e.applyOrder,ctor:e}),t)},t.prototype.setContent=function(e){var o=!1,n=!0,i=e.children[this.options.specifiedIndexAsContent];return i?(o=this.content!==i,o&&(this.content=i)):(U("The wrapper need at least one child element to be content element to scroll."),n=!1),{valid:n,contentChanged:o}},t.prototype.init=function(e){var o=this;this.wrapper=e,e.isBScrollContainer=!0,this.scroller=new du(e,this.content,this.options),this.scroller.hooks.on(this.scroller.hooks.eventTypes.resize,function(){o.refresh()}),this.eventBubbling(),this.handleAutoBlur(),this.enable(),this.proxy(_h),this.applyPlugins(),this.refreshWithoutReset(this.content);var n=this.options,i=n.startX,s=n.startY,a={x:i,y:s};this.hooks.trigger(this.hooks.eventTypes.beforeInitialScrollTo,a)||this.scroller.scrollTo(a.x,a.y)},t.prototype.applyPlugins=function(){var e=this,o=this.options;t.plugins.sort(function(n,i){var s,a=(s={},s.pre=-1,s.post=1,s),c=n.applyOrder?a[n.applyOrder]:0,l=i.applyOrder?a[i.applyOrder]:0;return c-l}).forEach(function(n){var i=n.ctor;o[n.name]&&typeof i=="function"&&(e.plugins[n.name]=new i(e))})},t.prototype.handleAutoBlur=function(){this.options.autoBlur&&this.on(this.eventTypes.beforeScrollStart,function(){var e=document.activeElement;e&&(e.tagName==="INPUT"||e.tagName==="TEXTAREA")&&e.blur()})},t.prototype.eventBubbling=function(){xe(this.scroller.hooks,this,[this.eventTypes.beforeScrollStart,this.eventTypes.scrollStart,this.eventTypes.scroll,this.eventTypes.scrollEnd,this.eventTypes.scrollCancel,this.eventTypes.touchEnd,this.eventTypes.flick])},t.prototype.refreshWithoutReset=function(e){this.scroller.refresh(e),this.hooks.trigger(this.hooks.eventTypes.refresh,e),this.trigger(this.eventTypes.refresh,e)},t.prototype.proxy=function(e){var o=this;e.forEach(function(n){var i=n.key,s=n.sourceKey;tu(o,s,i)})},t.prototype.refresh=function(){var e=this.setContent(this.wrapper),o=e.contentChanged,n=e.valid;if(n){var i=this.content;this.refreshWithoutReset(i),o&&(this.hooks.trigger(this.hooks.eventTypes.contentChanged,i),this.trigger(this.eventTypes.contentChanged,i)),this.scroller.resetPosition()}},t.prototype.enable=function(){this.scroller.enable(),this.hooks.trigger(this.hooks.eventTypes.enable),this.trigger(this.eventTypes.enable)},t.prototype.disable=function(){this.scroller.disable(),this.hooks.trigger(this.hooks.eventTypes.disable),this.trigger(this.eventTypes.disable)},t.prototype.destroy=function(){this.hooks.trigger(this.hooks.eventTypes.destroy),this.trigger(this.eventTypes.destroy),this.scroller.destroy()},t.prototype.eventRegister=function(e){this.registerType(e)},t.plugins=[],t.pluginsMap={},t}(Z);function re(r,t){var e=new ee(r,t);return e}re.use=ee.use;re.plugins=ee.plugins;re.pluginsMap=ee.pluginsMap;var mo=re,gu=function(){function r(t){this.scroll=t,this.wheelEndTimer=0,this.wheelMoveTimer=0,this.wheelStart=!1,this.init()}return r.prototype.init=function(){this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.registerEvent()},r.prototype.handleBScroll=function(){this.scroll.registerType(["alterOptions","mousewheelStart","mousewheelMove","mousewheelEnd"])},r.prototype.handleOptions=function(){var t=this.scroll.options.mouseWheel===!0?{}:this.scroll.options.mouseWheel,e={speed:20,invert:!1,easeTime:300,discreteTime:400,throttleTime:0,dampingFactor:.1};this.mouseWheelOpt=F(e,t)},r.prototype.handleHooks=function(){this.hooksFn=[],this.registerHooks(this.scroll.hooks,"destroy",this.destroy)},r.prototype.registerEvent=function(){this.eventRegister=new R(this.scroll.scroller.wrapper,[{name:"wheel",handler:this.wheelHandler.bind(this)},{name:"mousewheel",handler:this.wheelHandler.bind(this)},{name:"DOMMouseScroll",handler:this.wheelHandler.bind(this)}])},r.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},r.prototype.wheelHandler=function(t){if(!!this.scroll.enabled){this.beforeHandler(t),this.wheelStart||(this.wheelStartHandler(t),this.wheelStart=!0);var e=this.getWheelDelta(t);this.wheelMoveHandler(e),this.wheelEndDetector(e)}},r.prototype.wheelStartHandler=function(t){this.cleanCache();var e=this.scroll.scroller,o=e.scrollBehaviorX,n=e.scrollBehaviorY;o.setMovingDirection(0),n.setMovingDirection(0),o.setDirection(0),n.setDirection(0),this.scroll.trigger(this.scroll.eventTypes.alterOptions,this.mouseWheelOpt),this.scroll.trigger(this.scroll.eventTypes.mousewheelStart)},r.prototype.cleanCache=function(){this.deltaCache=[]},r.prototype.wheelMoveHandler=function(t){var e=this,o=this.mouseWheelOpt,n=o.throttleTime,i=o.dampingFactor;if(n&&this.wheelMoveTimer)this.deltaCache.push(t);else{var s=this.deltaCache.reduce(function(f,v){return{x:f.x+v.x,y:f.y+v.y}},{x:0,y:0});this.cleanCache();var a=this.scroll.scroller,c=a.scrollBehaviorX,l=a.scrollBehaviorY;c.setMovingDirection(-t.directionX),l.setMovingDirection(-t.directionY),c.setDirection(t.x),l.setDirection(t.y);var h=c.performDampingAlgorithm(Math.round(t.x)+s.x,i),u=l.performDampingAlgorithm(Math.round(t.y)+s.x,i);if(!this.scroll.trigger(this.scroll.eventTypes.mousewheelMove,{x:h,y:u})){var p=this.getEaseTime();(h!==this.scroll.x||u!==this.scroll.y)&&this.scroll.scrollTo(h,u,p)}n&&(this.wheelMoveTimer=window.setTimeout(function(){e.wheelMoveTimer=0},n))}},r.prototype.wheelEndDetector=function(t){var e=this;window.clearTimeout(this.wheelEndTimer),this.wheelEndTimer=window.setTimeout(function(){e.wheelStart=!1,window.clearTimeout(e.wheelMoveTimer),e.wheelMoveTimer=0,e.scroll.trigger(e.scroll.eventTypes.mousewheelEnd,t)},this.mouseWheelOpt.discreteTime)},r.prototype.getWheelDelta=function(t){var e=this.mouseWheelOpt,o=e.speed,n=e.invert,i=0,s=0,a=n?-1:1;switch(!0){case"deltaX"in t:t.deltaMode===1?(i=-t.deltaX*o,s=-t.deltaY*o):(i=-t.deltaX,s=-t.deltaY);break;case"wheelDeltaX"in t:i=t.wheelDeltaX/120*o,s=t.wheelDeltaY/120*o;break;case"wheelDelta"in t:i=s=t.wheelDelta/120*o;break;case"detail"in t:i=s=-t.detail/3*o;break}i*=a,s*=a,this.scroll.hasVerticalScroll||(i=s,s=0),this.scroll.hasHorizontalScroll||(i=0);var c=i>0?-1:i<0?1:0,l=s>0?-1:s<0?1:0;return{x:i,y:s,directionX:c,directionY:l}},r.prototype.beforeHandler=function(t){var e=this.scroll.options,o=e.preventDefault,n=e.stopPropagation,i=e.preventDefaultException;o&&!yt(t.target,i)&&t.preventDefault(),n&&t.stopPropagation()},r.prototype.getEaseTime=function(){var t=100,e=this.mouseWheelOpt.easeTime;return e<t&&U("easeTime should be greater than 100.If mouseWheel easeTime is too small,scrollEnd will be triggered many times."),Math.max(e,t)},r.prototype.destroy=function(){this.eventRegister.destroy(),window.clearTimeout(this.wheelEndTimer),window.clearTimeout(this.wheelMoveTimer),this.hooksFn.forEach(function(t){var e=t[0],o=t[1],n=t[2];e.off(o,n)})},r.pluginName="mouseWheel",r.applyOrder="pre",r}(),yu=function(){function r(t){this.scroll=t,this.stopObserver=!1,this.init()}return r.prototype.init=function(){this.handleMutationObserver(),this.handleHooks()},r.prototype.handleMutationObserver=function(){var t=this;if(typeof MutationObserver!="undefined"){var e=0;this.observer=new MutationObserver(function(o){t.mutationObserverHandler(o,e)}),this.startObserve(this.observer)}else this.checkDOMUpdate()},r.prototype.handleHooks=function(){var t=this;this.hooksFn=[],this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,function(){t.stopObserve(),t.handleMutationObserver()}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.enable,function(){t.stopObserver&&t.handleMutationObserver()}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.disable,function(){t.stopObserve()}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.destroy,function(){t.destroy()})},r.prototype.mutationObserverHandler=function(t,e){var o=this;if(!this.shouldNotRefresh()){for(var n=!1,i=!1,s=0;s<t.length;s++){var a=t[s];if(a.type!=="attributes"){n=!0;break}else if(a.target!==this.scroll.scroller.content){i=!0;break}}n?this.scroll.refresh():i&&(clearTimeout(e),e=window.setTimeout(function(){o.shouldNotRefresh()||o.scroll.refresh()},60))}},r.prototype.startObserve=function(t){var e={attributes:!0,childList:!0,subtree:!0};t.observe(this.scroll.scroller.content,e)},r.prototype.shouldNotRefresh=function(){var t=this.scroll.scroller,e=t.scrollBehaviorX,o=t.scrollBehaviorY,n=e.currentPos>e.minScrollPos||e.currentPos<e.maxScrollPos||o.currentPos>o.minScrollPos||o.currentPos<o.maxScrollPos;return t.animater.pending||n},r.prototype.checkDOMUpdate=function(){var t=this,e=this.scroll.scroller.content,o=lt(e),n=o.width,i=o.height,s=function(){if(!t.stopObserver){o=lt(e);var c=o.width,l=o.height;(n!==c||i!==l)&&t.scroll.refresh(),n=c,i=l,a()}},a=function(){setTimeout(function(){s()},1e3)};a()},r.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},r.prototype.stopObserve=function(){this.stopObserver=!0,this.observer&&this.observer.disconnect()},r.prototype.destroy=function(){this.stopObserve(),this.hooksFn.forEach(function(t){var e=t[0],o=t[1],n=t[2];e.off(o,n)}),this.hooksFn.length=0},r.pluginName="observeDOM",r}(),mu="plugins.pullDownRefresh",Su=[{key:"finishPullDown",name:"finishPullDown"},{key:"openPullDown",name:"openPullDown"},{key:"closePullDown",name:"closePullDown"},{key:"autoPullDownRefresh",name:"autoPullDownRefresh"}],Tu=Su.map(function(r){return{key:r.key,sourceKey:mu+"."+r.name}}),he="pullingDown",bu=function(){function r(t){this.scroll=t,this.pulling=!1,this.init()}return r.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullDownRefresh),this.handleHooks(),this.watch()},r.prototype.handleBScroll=function(){this.scroll.registerType([he]),this.scroll.proxy(Tu)},r.prototype.handleOptions=function(t){t===void 0&&(t={}),t=t===!0?{}:t;var e={threshold:90,stop:40};this.options=F(e,t),this.scroll.options.probeType=3},r.prototype.handleHooks=function(){var t=this;this.hooksFn=[];var e=this.scroll.scroller,o=e.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY=o.minScrollPos,this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,function(){t.finishPullDown()}),this.registerHooks(o.hooks,o.hooks.eventTypes.computeBoundary,function(n){n.maxScrollPos>0&&(n.maxScrollPos=-1),n.minScrollPos=t.currentMinScrollY}),this.scroll.eventTypes.alterOptions&&(this.registerHooks(this.scroll,this.scroll.eventTypes.alterOptions,function(n){var i=300,s=350;n.discreteTime=i,n.easeTime=s}),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,function(){e.hooks.trigger(e.hooks.eventTypes.end)}))},r.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},r.prototype.watch=function(){var t=this.scroll.scroller;this.watching=!0,this.registerHooks(t.hooks,t.hooks.eventTypes.end,this.checkPullDown)},r.prototype.unwatch=function(){var t=this.scroll.scroller;this.watching=!1,t.hooks.off(t.hooks.eventTypes.end,this.checkPullDown)},r.prototype.checkPullDown=function(){var t=this.options,e=t.threshold,o=t.stop;return this.scroll.y<e?!1:(this.pulling||(this.modifyBehaviorYBoundary(o),this.pulling=!0,this.scroll.trigger(he)),this.scroll.scrollTo(this.scroll.x,o,this.scroll.options.bounceTime,H.bounce),this.pulling)},r.prototype.modifyBehaviorYBoundary=function(t){var e=this.scroll.scroller.scrollBehaviorY;this.cachedOriginanMinScrollY=e.minScrollPos,this.currentMinScrollY=t,e.computeBoundary()},r.prototype.finishPullDown=function(){if(this.pulling===!0){var t=this.scroll.scroller.scrollBehaviorY;this.currentMinScrollY=this.cachedOriginanMinScrollY,t.computeBoundary(),this.pulling=!1,this.scroll.resetPosition(this.scroll.options.bounceTime,H.bounce)}},r.prototype.openPullDown=function(t){t===void 0&&(t={}),this.handleOptions(t),this.watching||this.watch()},r.prototype.closePullDown=function(){this.unwatch()},r.prototype.autoPullDownRefresh=function(){var t=this.options,e=t.threshold,o=t.stop;this.pulling||!this.watching||(this.pulling=!0,this.modifyBehaviorYBoundary(o),this.scroll.scrollTo(this.scroll.x,e),this.scroll.trigger(he),this.scroll.scrollTo(this.scroll.x,o,this.scroll.options.bounceTime,H.bounce))},r.pluginName="pullDownRefresh",r}(),ku="plugins.pullUpLoad",Pu=[{key:"finishPullUp",name:"finishPullUp"},{key:"openPullUp",name:"openPullUp"},{key:"closePullUp",name:"closePullUp"},{key:"autoPullUpLoad",name:"autoPullUpLoad"}],wu=Pu.map(function(r){return{key:r.key,sourceKey:ku+"."+r.name}}),Mr="pullingUp",xu=function(){function r(t){this.scroll=t,this.pulling=!1,this.watching=!1,this.init()}return r.prototype.init=function(){this.handleBScroll(),this.handleOptions(this.scroll.options.pullUpLoad),this.handleHooks(),this.watch()},r.prototype.handleBScroll=function(){this.scroll.registerType([Mr]),this.scroll.proxy(wu)},r.prototype.handleOptions=function(t){t===void 0&&(t={}),t=t===!0?{}:t;var e={threshold:0};this.options=F(e,t),this.scroll.options.probeType=3},r.prototype.handleHooks=function(){var t=this;this.hooksFn=[];var e=this.scroll.scroller.scrollBehaviorY;this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.contentChanged,function(){t.finishPullUp()}),this.registerHooks(e.hooks,e.hooks.eventTypes.computeBoundary,function(o){o.maxScrollPos>0&&(o.maxScrollPos=-1)})},r.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},r.prototype.watch=function(){this.watching||(this.watching=!0,this.registerHooks(this.scroll,this.scroll.eventTypes.scroll,this.checkPullUp))},r.prototype.unwatch=function(){this.watching=!1,this.scroll.off(this.scroll.eventTypes.scroll,this.checkPullUp)},r.prototype.checkPullUp=function(t){var e=this,o=this.options.threshold;this.scroll.movingDirectionY===1&&t.y<=this.scroll.maxScrollY+o&&(this.pulling=!0,this.scroll.once(this.scroll.eventTypes.scrollEnd,function(){e.pulling=!1}),this.unwatch(),this.scroll.trigger(Mr))},r.prototype.finishPullUp=function(){var t=this;this.scroll.scroller.scrollBehaviorY.setMovingDirection(0),this.pulling?this.scroll.once(this.scroll.eventTypes.scrollEnd,function(){t.watch()}):this.watch()},r.prototype.openPullUp=function(t){t===void 0&&(t={}),this.handleOptions(t),this.watch()},r.prototype.closePullUp=function(){this.unwatch()},r.prototype.autoPullUpLoad=function(){var t=this.options.threshold,e=this.scroll.scroller.scrollBehaviorY;if(!(this.pulling||!this.watching)){var o=-1,n=e.maxScrollPos+t+o;this.scroll.scroller.scrollBehaviorY.setMovingDirection(o),this.scroll.scrollTo(this.scroll.x,n,this.scroll.options.bounceTime)}},r.pluginName="pullUpLoad",r}(),Mu=function(){function r(t,e){this.indicator=t,this.options=e,this.hooks=new Z(["touchStart","touchMove","touchEnd"]),this.registerEvents()}return r.prototype.registerEvents=function(){var t=this.options,e=t.disableMouse,o=t.disableTouch,n=[],i=[],s=[];e||(n.push({name:"mousedown",handler:this.start.bind(this)}),i.push({name:"mousemove",handler:this.move.bind(this)}),s.push({name:"mouseup",handler:this.end.bind(this)})),o||(n.push({name:"touchstart",handler:this.start.bind(this)}),i.push({name:"touchmove",handler:this.move.bind(this)}),s.push({name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),this.startEventRegister=new R(this.indicator.indicatorEl,n),this.moveEventRegister=new R(window,i),this.endEventRegister=new R(window,s)},r.prototype.BScrollIsDisabled=function(){return!this.indicator.scroll.enabled},r.prototype.start=function(t){if(!this.BScrollIsDisabled()){var e=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.initiated=!0,this.lastPoint=e[this.indicator.keysMap.point],this.hooks.trigger(this.hooks.eventTypes.touchStart)}},r.prototype.move=function(t){if(!!this.initiated){var e=t.touches?t.touches[0]:t,o=e[this.indicator.keysMap.point];t.preventDefault(),t.stopPropagation();var n=o-this.lastPoint;this.lastPoint=o,this.hooks.trigger(this.hooks.eventTypes.touchMove,n)}},r.prototype.end=function(t){!this.initiated||(this.initiated=!1,t.preventDefault(),t.stopPropagation(),this.hooks.trigger(this.hooks.eventTypes.touchEnd))},r.prototype.destroy=function(){this.startEventRegister.destroy(),this.moveEventRegister.destroy(),this.endEventRegister.destroy()},r}(),Du=function(){function r(t,e){this.scroll=t,this.options=e,this.hooksFn=[],this.wrapper=e.wrapper,this.direction=e.direction,this.indicatorEl=this.wrapper.children[0],this.keysMap=this.getKeysMap(),this.handleFade(),this.handleHooks()}return r.prototype.handleFade=function(){this.options.fade&&(this.wrapper.style.opacity="0")},r.prototype.handleHooks=function(){var t=this,e=this.options,o=e.fade,n=e.interactive,i=e.scrollbarTrackClickable,s=this.scroll,a=s.hooks,c=s.scroller.translater.hooks,l=s.scroller.animater.hooks;if(this.registerHooks(a,a.eventTypes.refresh,this.refresh),this.registerHooks(c,c.eventTypes.translate,function(v){var m=t.keysMap.hasScroll;t.scroll[m]&&t.updatePosition(v)}),this.registerHooks(l,l.eventTypes.time,this.transitionTime),this.registerHooks(l,l.eventTypes.timeFunction,this.transitionTimingFunction),o&&(this.registerHooks(s,s.eventTypes.scrollEnd,function(){t.fade()}),this.registerHooks(s,s.eventTypes.scrollStart,function(){t.fade(!0)}),s.eventTypes.mousewheelStart&&s.eventTypes.mousewheelEnd&&(this.registerHooks(s,s.eventTypes.mousewheelStart,function(){t.fade(!0)}),this.registerHooks(s,s.eventTypes.mousewheelMove,function(){t.fade(!0)}),this.registerHooks(s,s.eventTypes.mousewheelEnd,function(){t.fade()}))),n){var h=this.scroll.options,u=h.disableMouse,p=h.disableTouch;this.eventHandler=new Mu(this,{disableMouse:u,disableTouch:p});var f=this.eventHandler.hooks;this.registerHooks(f,f.eventTypes.touchStart,this.startHandler),this.registerHooks(f,f.eventTypes.touchMove,this.moveHandler),this.registerHooks(f,f.eventTypes.touchEnd,this.endHandler)}i&&this.bindClick()},r.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},r.prototype.bindClick=function(){var t=this.wrapper;this.clickEventRegister=new R(t,[{name:"click",handler:this.handleClick.bind(this)}])},r.prototype.handleClick=function(t){var e=this.calculateclickOffsetPos(t),o=this.scroll,n=o.x,i=o.y;n=this.direction==="horizontal"?e:n,i=this.direction==="vertical"?e:i,this.scroll.scrollTo(n,i,this.options.scrollbarTrackOffsetTime)},r.prototype.calculateclickOffsetPos=function(t){var e=this.keysMap,o=e.point,n=e.domRect,i=this.options.scrollbarTrackOffsetType,s=t[o]-this.wrapperRect[n],a=s<this.currentPos?-1:1,c=0,l=this.currentPos;return i==="step"?c=this.scrollInfo.baseSize*a:(c=0,l=s),this.newPos(l,c,this.scrollInfo)},r.prototype.getKeysMap=function(){return this.direction==="vertical"?{hasScroll:"hasVerticalScroll",size:"height",wrapperSize:"clientHeight",scrollerSize:"scrollerHeight",maxScrollPos:"maxScrollY",pos:"y",point:"pageY",translateProperty:"translateY",domRect:"top"}:{hasScroll:"hasHorizontalScroll",size:"width",wrapperSize:"clientWidth",scrollerSize:"scrollerWidth",maxScrollPos:"maxScrollX",pos:"x",point:"pageX",translateProperty:"translateX",domRect:"left"}},r.prototype.fade=function(t){var e=t?250:500,o=this.wrapper;o.style[E.transitionDuration]=e+"ms",o.style.opacity=t?"1":"0"},r.prototype.refresh=function(){var t=this.keysMap.hasScroll,e=this.scroll,o=e.x,n=e.y;if(this.wrapperRect=this.wrapper.getBoundingClientRect(),this.canScroll(e[t])){var i=this.keysMap,s=i.wrapperSize,a=i.scrollerSize,c=i.maxScrollPos;this.scrollInfo=this.refreshScrollInfo(this.wrapper[s],e[a],e[c],this.indicatorEl[s]),this.updatePosition({x:o,y:n})}},r.prototype.transitionTime=function(t){t===void 0&&(t=0),this.indicatorEl.style[E.transitionDuration]=t+"ms"},r.prototype.transitionTimingFunction=function(t){this.indicatorEl.style[E.transitionTimingFunction]=t},r.prototype.canScroll=function(t){return this.wrapper.style.display=t?"block":"none",t},r.prototype.refreshScrollInfo=function(t,e,o,n){var i=Math.max(Math.round(t*t/(e||t||1)),this.options.minSize);this.options.isCustom&&(i=n);var s=t-i,a=s/o;return{baseSize:i,maxScrollPos:s,minScrollPos:0,sizeRatio:a}},r.prototype.updatePosition=function(t){var e=this.caculatePosAndSize(t,this.scrollInfo),o=e.pos,n=e.size;this.refreshStyle(n,o),this.currentPos=o},r.prototype.caculatePosAndSize=function(t,e){var o=this.keysMap.pos,n=e.sizeRatio,i=e.baseSize,s=e.maxScrollPos,a=e.minScrollPos,c=this.options.minSize,l=Math.round(n*t[o]),h;return l<a?(h=Math.max(i+l*3,c),l=a):l>s?(h=Math.max(i-(l-s)*3,c),l=s+i-h):h=i,{pos:l,size:h}},r.prototype.refreshStyle=function(t,e){var o=this.keysMap,n=o.translateProperty,i=o.size,s=this.scroll.options.translateZ;this.indicatorEl.style[i]=t+"px",this.indicatorEl.style[E.transform]=n+"("+e+"px)"+s},r.prototype.startHandler=function(){this.moved=!1,this.startTime=j(),this.transitionTime(),this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart)},r.prototype.moveHandler=function(t){if(!this.moved&&!this.indicatorNotMoved(t)&&(this.moved=!0,this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart)),this.moved){var e=this.newPos(this.currentPos,t,this.scrollInfo);this.syncBScroll(e)}},r.prototype.endHandler=function(){if(this.moved){var t=this.scroll,e=t.x,o=t.y;this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd,{x:e,y:o})}},r.prototype.indicatorNotMoved=function(t){var e=this.currentPos,o=this.scrollInfo,n=o.maxScrollPos,i=o.minScrollPos,s=e===i&&t<=0||e===n&&t>=0;return s},r.prototype.syncBScroll=function(t){var e=j(),o=this.scroll,n=o.x,i=o.y,s=o.options,a=o.scroller,c=o.maxScrollY,l=o.minScrollY,h=o.maxScrollX,u=o.minScrollX,p=s.probeType,f=s.momentumLimitTime,v={x:n,y:i};this.direction==="vertical"?v.y=Y(t,c,l):v.x=Y(t,h,u),a.translater.translate(v),e-this.startTime>f&&(this.startTime=e,p===1&&a.hooks.trigger(a.hooks.eventTypes.scroll,v)),p>1&&a.hooks.trigger(a.hooks.eventTypes.scroll,v)},r.prototype.newPos=function(t,e,o){var n=o.maxScrollPos,i=o.sizeRatio,s=o.minScrollPos,a=t+e;return a=Y(a,s,n),Math.round(a/i)},r.prototype.destroy=function(){var t=this.options,e=t.interactive,o=t.scrollbarTrackClickable,n=t.isCustom;e&&this.eventHandler.destroy(),o&&this.clickEventRegister.destroy(),n||this.wrapper.parentNode.removeChild(this.wrapper),this.hooksFn.forEach(function(i){var s=i[0],a=i[1],c=i[2];s.off(a,c)}),this.hooksFn.length=0},r}(),Ou=function(){function r(t){this.scroll=t,this.handleOptions(),this.createIndicators(),this.handleHooks()}return r.prototype.handleHooks=function(){var t=this,e=this.scroll;e.hooks.on(e.hooks.eventTypes.destroy,function(){for(var o=0,n=t.indicators;o<n.length;o++){var i=n[o];i.destroy()}})},r.prototype.handleOptions=function(){var t=this.scroll.options.scrollbar===!0?{}:this.scroll.options.scrollbar,e={fade:!0,interactive:!1,customElements:[],minSize:8,scrollbarTrackClickable:!1,scrollbarTrackOffsetType:"step",scrollbarTrackOffsetTime:300};this.options=F(e,t)},r.prototype.createIndicators=function(){for(var t,e=this.scroll,o=[],n=["scrollX","scrollY"],i=["horizontal","vertical"],s=this.options.customElements,a=0;a<n.length;a++){var c=n[a];if(e.options[c]){var l=s.shift(),h=i[a],u=!1,p=l||this.createScrollbarElement(h);p!==l?e.wrapper.appendChild(p):u=!0,t=K(K({wrapper:p,direction:h},this.options),{isCustom:u}),o.push(new Du(e,t))}}this.indicators=o},r.prototype.createScrollbarElement=function(t,e){e===void 0&&(e=this.options.scrollbarTrackClickable);var o=document.createElement("div"),n=document.createElement("div");return o.style.cssText="position:absolute;z-index:9999;overflow:hidden;",n.style.cssText="box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px;",n.className="bscroll-indicator",t==="horizontal"?(o.style.cssText+="height:7px;left:2px;right:2px;bottom:0;",n.style.height="100%",o.className="bscroll-horizontal-scrollbar"):(o.style.cssText+="width:7px;bottom:2px;top:2px;right:1px;",n.style.width="100%",o.className="bscroll-vertical-scrollbar"),e||(o.style.cssText+="pointer-events:none;"),o.appendChild(n),o},r.pluginName="scrollbar",r}(),Eu=function(){function r(t){this.scroll=t,this.init()}return r.prototype.init=function(){var t=this.scroll.scroller,e=t.scrollBehaviorX,o=t.scrollBehaviorY;this.wrapperWidth=e.wrapperSize,this.wrapperHeight=o.wrapperSize,this.scrollerHeight=o.contentSize,this.scrollerWidth=e.contentSize,this.pages=this.buildPagesMatrix(this.wrapperWidth,this.wrapperHeight),this.pageLengthOfX=this.pages?this.pages.length:0,this.pageLengthOfY=this.pages&&this.pages[0]?this.pages[0].length:0},r.prototype.getPageStats=function(t,e){return this.pages[t][e]},r.prototype.getNearestPageIndex=function(t,e){for(var o=0,n=0,i=this.pages.length;o<i-1&&!(t>=this.pages[o][0].cx);o++);for(i=this.pages[o].length;n<i-1&&!(e>=this.pages[0][n].cy);n++);return{pageX:o,pageY:n}},r.prototype.buildPagesMatrix=function(t,e){var o=[],n=0,i,s,a,c=0,l,h=this.scroll.scroller.scrollBehaviorX.maxScrollPos,u=this.scroll.scroller.scrollBehaviorY.maxScrollPos;for(s=Math.round(t/2),a=Math.round(e/2);n>-this.scrollerWidth;){for(o[c]=[],l=0,i=0;i>-this.scrollerHeight;)o[c][l]={x:Math.max(n,h),y:Math.max(i,u),width:t,height:e,cx:n-s,cy:i-a},i-=e,l++;n-=t,c++}return o},r}(),So={pageX:0,pageY:0,x:0,y:0},_u=function(){function r(t,e){this.scroll=t,this.slideOptions=e,this.slideX=!1,this.slideY=!1,this.currentPage=F({},So)}return r.prototype.refresh=function(){this.pagesMatrix=new Eu(this.scroll),this.checkSlideLoop(),this.currentPage=this.getAdjustedCurrentPage()},r.prototype.getAdjustedCurrentPage=function(){var t=this.currentPage,e=t.pageX,o=t.pageY;e=Math.min(e,this.pagesMatrix.pageLengthOfX-1),o=Math.min(o,this.pagesMatrix.pageLengthOfY-1),this.loopX&&(e=Math.min(e,this.pagesMatrix.pageLengthOfX-2)),this.loopY&&(o=Math.min(o,this.pagesMatrix.pageLengthOfY-2));var n=this.pagesMatrix.getPageStats(e,o),i=n.x,s=n.y;return{pageX:e,pageY:o,x:i,y:s}},r.prototype.setCurrentPage=function(t){this.currentPage=t},r.prototype.getInternalPage=function(t,e){t>=this.pagesMatrix.pageLengthOfX?t=this.pagesMatrix.pageLengthOfX-1:t<0&&(t=0),e>=this.pagesMatrix.pageLengthOfY?e=this.pagesMatrix.pageLengthOfY-1:e<0&&(e=0);var o=this.pagesMatrix.getPageStats(t,e),n=o.x,i=o.y;return{pageX:t,pageY:e,x:n,y:i}},r.prototype.getInitialPage=function(t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var o=this.slideOptions,n=o.startPageXIndex,i=o.startPageYIndex,s=this.loopX?1:0,a=this.loopY?1:0,c=t?s:this.currentPage.pageX,l=t?a:this.currentPage.pageY;e?(c=this.loopX?n+1:n,l=this.loopY?i+1:i):(c=t?s:this.currentPage.pageX,l=t?a:this.currentPage.pageY);var h=this.pagesMatrix.getPageStats(c,l),u=h.x,p=h.y;return{pageX:c,pageY:l,x:u,y:p}},r.prototype.getExposedPage=function(t){var e=F({},t);return this.loopX&&(e.pageX=this.fixedPage(e.pageX,this.pagesMatrix.pageLengthOfX-2)),this.loopY&&(e.pageY=this.fixedPage(e.pageY,this.pagesMatrix.pageLengthOfY-2)),e},r.prototype.getExposedPageByPageIndex=function(t,e){var o={pageX:t,pageY:e};this.loopX&&(o.pageX=t+1),this.loopY&&(o.pageY=e+1);var n=this.pagesMatrix.getPageStats(o.pageX,o.pageY),i=n.x,s=n.y;return{x:i,y:s,pageX:t,pageY:e}},r.prototype.getWillChangedPage=function(t){return t=F({},t),this.loopX&&(t.pageX=this.fixedPage(t.pageX,this.pagesMatrix.pageLengthOfX-2),t.x=this.pagesMatrix.getPageStats(t.pageX+1,0).x),this.loopY&&(t.pageY=this.fixedPage(t.pageY,this.pagesMatrix.pageLengthOfY-2),t.y=this.pagesMatrix.getPageStats(0,t.pageY+1).y),t},r.prototype.fixedPage=function(t,e){for(var o=[],n=0;n<e;n++)o.push(n);return o.unshift(e-1),o.push(0),o[t]},r.prototype.getPageStats=function(){return this.pagesMatrix.getPageStats(this.currentPage.pageX,this.currentPage.pageY)},r.prototype.getValidPageIndex=function(t,e){var o=this.pagesMatrix.pageLengthOfX-1,n=this.pagesMatrix.pageLengthOfY-1,i=0,s=0;return this.loopX&&(t+=1,i=i+1,o=o-1),this.loopY&&(e+=1,s=s+1,n=n-1),t=Y(t,i,o),e=Y(e,s,n),{pageX:t,pageY:e}},r.prototype.nextPageIndex=function(){return this.getPageIndexByDirection("positive")},r.prototype.prevPageIndex=function(){return this.getPageIndexByDirection("negative")},r.prototype.getNearestPage=function(t,e){var o=this.pagesMatrix.getNearestPageIndex(t,e),n=o.pageX,i=o.pageY,s=this.pagesMatrix.getPageStats(n,0).x,a=this.pagesMatrix.getPageStats(0,i).y;return{x:s,y:a,pageX:n,pageY:i}},r.prototype.getPageByDirection=function(t,e,o){var n=t.pageX,i=t.pageY;n===this.currentPage.pageX&&(n=Y(n+e,0,this.pagesMatrix.pageLengthOfX-1)),i===this.currentPage.pageY&&(i=Y(i+o,0,this.pagesMatrix.pageLengthOfY-1));var s=this.pagesMatrix.getPageStats(n,0).x,a=this.pagesMatrix.getPageStats(0,i).y;return{x:s,y:a,pageX:n,pageY:i}},r.prototype.resetLoopPage=function(){if(this.loopX){if(this.currentPage.pageX===0)return{pageX:this.pagesMatrix.pageLengthOfX-2,pageY:this.currentPage.pageY};if(this.currentPage.pageX===this.pagesMatrix.pageLengthOfX-1)return{pageX:1,pageY:this.currentPage.pageY}}if(this.loopY){if(this.currentPage.pageY===0)return{pageX:this.currentPage.pageX,pageY:this.pagesMatrix.pageLengthOfY-2};if(this.currentPage.pageY===this.pagesMatrix.pageLengthOfY-1)return{pageX:this.currentPage.pageX,pageY:1}}},r.prototype.getPageIndexByDirection=function(t){var e=this.currentPage.pageX,o=this.currentPage.pageY;return this.slideX&&(e=t==="negative"?e-1:e+1),this.slideY&&(o=t==="negative"?o-1:o+1),{pageX:e,pageY:o}},r.prototype.checkSlideLoop=function(){this.wannaLoop=this.slideOptions.loop,this.pagesMatrix.pageLengthOfX>1?this.slideX=!0:this.slideX=!1,this.pagesMatrix.pages[0]&&this.pagesMatrix.pageLengthOfY>1?this.slideY=!0:this.slideY=!1,this.loopX=this.wannaLoop&&this.slideX,this.loopY=this.wannaLoop&&this.slideY,this.slideX&&this.slideY&&U("slide does not support two direction at the same time.")},r}(),Cu="plugins.slide",Yu=[{key:"next",name:"next"},{key:"prev",name:"prev"},{key:"goToPage",name:"goToPage"},{key:"getCurrentPage",name:"getCurrentPage"},{key:"startPlay",name:"startPlay"},{key:"pausePlay",name:"pausePlay"}],Bu=Yu.map(function(r){return{key:r.key,sourceKey:Cu+"."+r.name}}),$u=function(r,t){return r.pageX===t.pageX&&r.pageY===t.pageY},Xu=function(){function r(t){this.scroll=t,this.cachedClonedPageDOM=[],this.resetLooping=!1,this.autoplayTimer=0,this.satisfyInitialization()&&this.init()}return r.prototype.satisfyInitialization=function(){return this.scroll.scroller.content.children.length<=0?(U("slide need at least one slide page to be initialised.please check your DOM layout."),!1):!0},r.prototype.init=function(){this.willChangeToPage=F({},So),this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.createPages()},r.prototype.createPages=function(){this.pages=new _u(this.scroll,this.options)},r.prototype.handleBScroll=function(){this.scroll.registerType(["slideWillChange","slidePageChanged"]),this.scroll.proxy(Bu)},r.prototype.handleOptions=function(){var t=this.scroll.options.slide===!0?{}:this.scroll.options.slide,e={loop:!0,threshold:.1,speed:400,easing:H.bounce,listenFlick:!0,autoplay:!0,interval:3e3,startPageXIndex:0,startPageYIndex:0};this.options=F(e,t)},r.prototype.handleLoop=function(t){var e=this.options.loop,o=this.scroll.scroller.content,n=o.children.length;e&&(o!==t?(this.resetLoopChangedStatus(),this.removeClonedSlidePage(t),n>1&&this.cloneFirstAndLastSlidePage(o)):n===3&&this.initialised?(this.removeClonedSlidePage(o),this.moreToOnePageInLoop=!0,this.oneToMorePagesInLoop=!1):n>1?(this.initialised&&this.cachedClonedPageDOM.length===0?(this.oneToMorePagesInLoop=!0,this.moreToOnePageInLoop=!1):(this.removeClonedSlidePage(o),this.resetLoopChangedStatus()),this.cloneFirstAndLastSlidePage(o)):this.resetLoopChangedStatus())},r.prototype.resetLoopChangedStatus=function(){this.moreToOnePageInLoop=!1,this.oneToMorePagesInLoop=!1},r.prototype.handleHooks=function(){var t=this,e=this.scroll.hooks,o=this.scroll.scroller.hooks,n=this.options.listenFlick;this.prevContent=this.scroll.scroller.content,this.hooksFn=[],this.registerHooks(this.scroll,this.scroll.eventTypes.beforeScrollStart,this.pausePlay),this.registerHooks(this.scroll,this.scroll.eventTypes.scrollEnd,this.modifyCurrentPage),this.registerHooks(this.scroll,this.scroll.eventTypes.scrollEnd,this.startPlay),this.scroll.eventTypes.mousewheelMove&&(this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelMove,function(){return!0}),this.registerHooks(this.scroll,this.scroll.eventTypes.mousewheelEnd,function(i){(i.directionX===1||i.directionY===1)&&t.next(),(i.directionX===-1||i.directionY===-1)&&t.prev()})),this.registerHooks(e,e.eventTypes.refresh,this.refreshHandler),this.registerHooks(e,e.eventTypes.destroy,this.destroy),this.registerHooks(o,o.eventTypes.beforeRefresh,function(){t.handleLoop(t.prevContent),t.setSlideInlineStyle()}),this.registerHooks(o,o.eventTypes.momentum,this.modifyScrollMetaHandler),this.registerHooks(o,o.eventTypes.scroll,this.scrollHandler),this.registerHooks(o,o.eventTypes.checkClick,this.startPlay),n&&this.registerHooks(o,o.eventTypes.flick,this.flickHandler)},r.prototype.startPlay=function(){var t=this,e=this.options,o=e.interval,n=e.autoplay;n&&(clearTimeout(this.autoplayTimer),this.autoplayTimer=window.setTimeout(function(){t.next()},o))},r.prototype.pausePlay=function(){this.options.autoplay&&clearTimeout(this.autoplayTimer)},r.prototype.setSlideInlineStyle=function(){var t=[{direction:"scrollX",sizeType:"offsetWidth",styleType:"width"},{direction:"scrollY",sizeType:"offsetHeight",styleType:"height"}],e=this.scroll.scroller,o=e.content,n=e.wrapper,i=this.scroll.options;t.forEach(function(s){var a=s.direction,c=s.sizeType,l=s.styleType;if(i[a]){for(var h=n[c],u=o.children,p=u.length,f=0;f<p;f++){var v=u[f];v.style[l]=h+"px"}o.style[l]=h*p+"px"}})},r.prototype.next=function(t,e){var o=this.pages.nextPageIndex(),n=o.pageX,i=o.pageY;this.goTo(n,i,t,e)},r.prototype.prev=function(t,e){var o=this.pages.prevPageIndex(),n=o.pageX,i=o.pageY;this.goTo(n,i,t,e)},r.prototype.goToPage=function(t,e,o,n){var i=this.pages.getValidPageIndex(t,e);this.goTo(i.pageX,i.pageY,o,n)},r.prototype.getCurrentPage=function(){return this.exposedPage||this.pages.getInitialPage(!1,!0)},r.prototype.setCurrentPage=function(t){this.pages.setCurrentPage(t),this.exposedPage=this.pages.getExposedPage(t)},r.prototype.nearestPage=function(t,e){var o=this.scroll.scroller,n=o.scrollBehaviorX,i=o.scrollBehaviorY,s=n.maxScrollPos,a=n.minScrollPos,c=i.maxScrollPos,l=i.minScrollPos;return this.pages.getNearestPage(Y(t,s,a),Y(e,c,l))},r.prototype.satisfyThreshold=function(t,e){var o=this.scroll.scroller,n=o.scrollBehaviorX,i=o.scrollBehaviorY,s=!0;return Math.abs(t-n.absStartPos)<=this.thresholdX&&Math.abs(e-i.absStartPos)<=this.thresholdY&&(s=!1),s},r.prototype.refreshHandler=function(t){var e=this;if(!!this.satisfyInitialization()){this.pages.refresh(),this.computeThreshold();var o=this.contentChanged=this.prevContent!==t;o&&(this.prevContent=t);var n=this.pages.getInitialPage(this.oneToMorePagesInLoop||this.moreToOnePageInLoop,o||!this.initialised);this.initialised?this.goTo(n.pageX,n.pageY,0):this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.beforeInitialScrollTo,function(i){e.initialised=!0,i.x=n.x,i.y=n.y}),this.startPlay()}},r.prototype.computeThreshold=function(){var t=this.options.threshold;if(t%1===0)this.thresholdX=t,this.thresholdY=t;else{var e=this.pages.getPageStats(),o=e.width,n=e.height;this.thresholdX=Math.round(o*t),this.thresholdY=Math.round(n*t)}},r.prototype.cloneFirstAndLastSlidePage=function(t){var e=t.children,o=e[e.length-1].cloneNode(!0),n=e[0].cloneNode(!0);Vh(o,t),t.appendChild(n),this.cachedClonedPageDOM=[o,n]},r.prototype.removeClonedSlidePage=function(t){var e=t&&t.children||[];e.length&&this.cachedClonedPageDOM.forEach(function(o){Kh(t,o)}),this.cachedClonedPageDOM=[]},r.prototype.modifyCurrentPage=function(t){var e=this.getCurrentPage(),o=e.pageX,n=e.pageY,i=this.nearestPage(t.x,t.y);if(this.setCurrentPage(i),this.contentChanged)return this.contentChanged=!1,!0;var s=this.getCurrentPage(),a=s.pageX,c=s.pageY;if(this.pageWillChangeTo(i),this.oneToMorePagesInLoop)return this.oneToMorePagesInLoop=!1,!0;if(this.moreToOnePageInLoop&&o===0&&n===0)return this.moreToOnePageInLoop=!1,!0;if(o!==a||n!==c){var l=this.pages.getExposedPageByPageIndex(a,c);this.scroll.trigger(this.scroll.eventTypes.slidePageChanged,l)}if(this.resetLooping){this.resetLooping=!1;return}var h=this.pages.resetLoopPage();if(h)return this.resetLooping=!0,this.goTo(h.pageX,h.pageY,0),!0},r.prototype.goTo=function(t,e,o,n){var i=this.pages.getInternalPage(t,e),s=n||this.options.easing||H.bounce,a=i.x,c=i.y,l=a-this.scroll.scroller.scrollBehaviorX.currentPos,h=c-this.scroll.scroller.scrollBehaviorY.currentPos;if(!l&&!h){this.scroll.scroller.togglePointerEvents(!0);return}o=o===void 0?this.getEaseTime(l,h):o,this.scroll.scroller.scrollTo(a,c,o,s)},r.prototype.flickHandler=function(){var t=this.scroll.scroller,e=t.scrollBehaviorX,o=t.scrollBehaviorY,n=e.currentPos,i=e.startPos,s=e.direction,a=o.currentPos,c=o.startPos,l=o.direction,h=this.pages.currentPage,u=h.pageX,p=h.pageY,f=this.getEaseTime(n-i,a-c);this.goTo(u+s,p+l,f)},r.prototype.getEaseTime=function(t,e){return this.options.speed||Math.max(Math.max(Math.min(Math.abs(t),1e3),Math.min(Math.abs(e),1e3)),300)},r.prototype.modifyScrollMetaHandler=function(t){var e=this.scroll.scroller,o=e.scrollBehaviorX,n=e.scrollBehaviorY,i=e.animater,s=t.newX,a=t.newY,c=this.satisfyThreshold(s,a)||i.forceStopped?this.pages.getPageByDirection(this.nearestPage(s,a),o.direction,n.direction):this.pages.currentPage;t.time=this.getEaseTime(t.newX-c.x,t.newY-c.y),t.newX=c.x,t.newY=c.y,t.easing=this.options.easing||H.bounce},r.prototype.scrollHandler=function(t){var e=t.x,o=t.y;if(this.satisfyThreshold(e,o)){var n=this.nearestPage(e,o);this.pageWillChangeTo(n)}},r.prototype.pageWillChangeTo=function(t){var e=this.pages.getWillChangedPage(t);$u(this.willChangeToPage,e)||(this.willChangeToPage=e,this.scroll.trigger(this.scroll.eventTypes.slideWillChange,this.willChangeToPage))},r.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},r.prototype.destroy=function(){var t=this.scroll.scroller.content,e=this.options,o=e.loop,n=e.autoplay;o&&this.removeClonedSlidePage(t),n&&clearTimeout(this.autoplayTimer),this.hooksFn.forEach(function(i){var s=i[0],a=i[1],c=i[2];s.eventTypes[a]&&s.off(a,c)}),this.hooksFn.length=0},r.pluginName="slide",r}(),Au="plugins.wheel",Hu=[{key:"wheelTo",name:"wheelTo"},{key:"getSelectedIndex",name:"getSelectedIndex"},{key:"restorePosition",name:"restorePosition"}],Iu=Hu.map(function(r){return{key:r.key,sourceKey:Au+"."+r.name}}),Dr="wheelIndexChanged",Lu={rate:4},Fu=function(){function r(t){this.scroll=t,this.init()}return r.prototype.init=function(){this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.refreshBoundary(),this.setSelectedIndex(this.options.selectedIndex)},r.prototype.handleBScroll=function(){this.scroll.proxy(Iu),this.scroll.registerType([Dr])},r.prototype.handleOptions=function(){var t=this.scroll.options.wheel===!0?{}:this.scroll.options.wheel,e={wheelWrapperClass:"wheel-scroll",wheelItemClass:"wheel-item",rotate:25,adjustTime:400,selectedIndex:0,wheelDisabledItemClass:"wheel-disabled-item"};this.options=F(e,t)},r.prototype.handleHooks=function(){var t=this,e=this.scroll,o=this.scroll.scroller,n=o.actionsHandler,i=o.scrollBehaviorX,s=o.scrollBehaviorY,a=o.animater,c=o.content;e.on(e.eventTypes.scrollEnd,function(l){var h=t.findNearestValidWheel(l.y).index;if(o.animater.forceStopped&&!t.isAdjustingPosition)return t.target=t.items[h],!0;t.setSelectedIndex(h),t.isAdjustingPosition&&(t.isAdjustingPosition=!1)}),this.scroll.hooks.on(this.scroll.hooks.eventTypes.refresh,function(l){l!==c&&(c=l,t.setSelectedIndex(t.options.selectedIndex,!0)),t.rotateX(t.scroll.y),t.wheelTo(t.selectedIndex,0)}),this.scroll.hooks.on(this.scroll.hooks.eventTypes.beforeInitialScrollTo,function(l){l.x=0,l.y=-(t.selectedIndex*t.itemHeight)}),o.hooks.on(o.hooks.eventTypes.checkClick,function(){var l=Gh(t.items).indexOf(t.target);return l===-1||t.wheelTo(l,t.options.adjustTime,H.swipe),!0}),o.hooks.on(o.hooks.eventTypes.scrollTo,function(l){l.y=t.findNearestValidWheel(l.y).y}),o.hooks.on(o.hooks.eventTypes.minDistanceScroll,function(){var l=o.animater;l.forceStopped===!0&&(l.forceStopped=!1)}),o.hooks.on(o.hooks.eventTypes.scrollToElement,function(l,h){if(_t(l,t.options.wheelItemClass))h.top=t.findNearestValidWheel(h.top).y;else return!0}),n.hooks.on(n.hooks.eventTypes.beforeStart,function(l){t.target=l.target}),i.hooks.on(i.hooks.eventTypes.computeBoundary,function(l){l.maxScrollPos=0,l.minScrollPos=0}),s.hooks.on(s.hooks.eventTypes.computeBoundary,function(l){t.items=t.scroll.scroller.content.children,t.checkWheelAllDisabled(),t.itemHeight=t.items.length>0?s.contentSize/t.items.length:0,l.maxScrollPos=-t.itemHeight*(t.items.length-1),l.minScrollPos=0}),s.hooks.on(s.hooks.eventTypes.momentum,function(l){l.rate=Lu.rate,l.destination=t.findNearestValidWheel(l.destination).y}),s.hooks.on(s.hooks.eventTypes.end,function(l){var h=t.findNearestValidWheel(s.currentPos);l.destination=h.y,l.duration=t.options.adjustTime}),a.hooks.on(a.hooks.eventTypes.time,function(l){t.transitionDuration(l)}),a.hooks.on(a.hooks.eventTypes.timeFunction,function(l){t.timeFunction(l)}),a.hooks.on(a.hooks.eventTypes.callStop,function(){var l=t.findNearestValidWheel(t.scroll.y).index;t.isAdjustingPosition=!0,t.wheelTo(l,0)}),a.translater.hooks.on(a.translater.hooks.eventTypes.translate,function(l){t.rotateX(l.y)})},r.prototype.refreshBoundary=function(){var t=this.scroll.scroller,e=t.scrollBehaviorX,o=t.scrollBehaviorY,n=t.content;e.refresh(n),o.refresh(n)},r.prototype.setSelectedIndex=function(t,e){e===void 0&&(e=!1);var o=this.selectedIndex;this.selectedIndex=t,o!==t&&!e&&this.scroll.trigger(Dr,t)},r.prototype.getSelectedIndex=function(){return this.selectedIndex},r.prototype.wheelTo=function(t,e,o){t===void 0&&(t=0),e===void 0&&(e=0);var n=-t*this.itemHeight;this.scroll.scrollTo(0,n,e,o)},r.prototype.restorePosition=function(){var t=this.scroll.pending;if(t){var e=this.getSelectedIndex();this.scroll.scroller.animater.clearTimer(),this.wheelTo(e,0)}},r.prototype.transitionDuration=function(t){for(var e=0;e<this.items.length;e++)this.items[e].style[E.transitionDuration]=t+"ms"},r.prototype.timeFunction=function(t){for(var e=0;e<this.items.length;e++)this.items[e].style[E.transitionTimingFunction]=t},r.prototype.rotateX=function(t){for(var e=this.options.rotate,o=e===void 0?25:e,n=0;n<this.items.length;n++){var i=o*(t/this.itemHeight+n),s=i.toFixed(3);this.items[n].style[E.transform]="rotateX("+s+"deg)"}},r.prototype.findNearestValidWheel=function(t){t=t>0?0:t<this.scroll.maxScrollY?this.scroll.maxScrollY:t;for(var e=Math.abs(Math.round(-t/this.itemHeight)),o=e,n=this.items,i=this.options.wheelDisabledItemClass;e>=0&&_t(n[e],i);)e--;if(e<0)for(e=o;e<=n.length-1&&_t(n[e],i);)e++;return e===n.length&&(e=o),{index:this.wheelItemsAllDisabled?-1:e,y:-e*this.itemHeight}},r.prototype.checkWheelAllDisabled=function(){var t=this.options.wheelDisabledItemClass,e=this.items;this.wheelItemsAllDisabled=!0;for(var o=0;o<e.length;o++)if(!_t(e[o],t)){this.wheelItemsAllDisabled=!1;break}},r.pluginName="wheel",r}(),Nu="plugins.zoom",Ru=[{key:"zoomTo",name:"zoomTo"}],zu=Ru.map(function(r){return{key:r.key,sourceKey:Nu+"."+r.name}}),Xt=2,At=1,ju=function(){function r(t){this.scroll=t,this.scale=At,this.prevScale=1,this.init()}return r.prototype.init=function(){this.handleBScroll(),this.handleOptions(),this.handleHooks(),this.tryInitialZoomTo(this.zoomOpt)},r.prototype.zoomTo=function(t,e,o,n){var i=this.resolveOrigin(e,o),s=i.originX,a=i.originY,c={x:s,y:a,baseScale:this.scale};this._doZoomTo(t,c,n,!0)},r.prototype.handleBScroll=function(){this.scroll.proxy(zu),this.scroll.registerType(["beforeZoomStart","zoomStart","zooming","zoomEnd"])},r.prototype.handleOptions=function(){var t=this.scroll.options.zoom===!0?{}:this.scroll.options.zoom,e={start:1,min:1,max:4,initialOrigin:[0,0],minimalZoomDistance:5,bounceTime:800};this.zoomOpt=F(e,t)},r.prototype.handleHooks=function(){var t=this,e=this.scroll,o=this.scroll.scroller;this.wrapper=this.scroll.scroller.wrapper,this.setTransformOrigin(this.scroll.scroller.content);var n=o.scrollBehaviorX,i=o.scrollBehaviorY;this.hooksFn=[],this.registerHooks(e.hooks,e.hooks.eventTypes.contentChanged,function(s){t.setTransformOrigin(s),t.scale=At,t.tryInitialZoomTo(t.zoomOpt)}),this.registerHooks(e.hooks,e.hooks.eventTypes.beforeInitialScrollTo,function(){if(t.zoomOpt.start!==At)return!0}),this.registerHooks(n.hooks,n.hooks.eventTypes.beforeComputeBoundary,function(){var s=lt(t.scroll.scroller.content);n.contentSize=Math.floor(s.width*t.scale)}),this.registerHooks(i.hooks,i.hooks.eventTypes.beforeComputeBoundary,function(){var s=lt(t.scroll.scroller.content);i.contentSize=Math.floor(s.height*t.scale)}),this.registerHooks(o.actions.hooks,o.actions.hooks.eventTypes.start,function(s){var a=s.touches&&s.touches.length||0;t.fingersOperation(a),a===Xt&&t.zoomStart(s)}),this.registerHooks(o.actions.hooks,o.actions.hooks.eventTypes.beforeMove,function(s){var a=s.touches&&s.touches.length||0;if(t.fingersOperation(a),a===Xt)return t.zoom(s),!0}),this.registerHooks(o.actions.hooks,o.actions.hooks.eventTypes.beforeEnd,function(s){var a=t.fingersOperation();if(a===Xt)return t.zoomEnd(),!0}),this.registerHooks(o.translater.hooks,o.translater.hooks.eventTypes.beforeTranslate,function(s,a){var c=a.scale?a.scale:t.prevScale;t.prevScale=c,s.push("scale("+c+")")}),this.registerHooks(o.hooks,o.hooks.eventTypes.scrollEnd,function(){t.fingersOperation()===Xt&&t.scroll.trigger(t.scroll.eventTypes.zoomEnd,{scale:t.scale})}),this.registerHooks(this.scroll.hooks,"destroy",this.destroy)},r.prototype.setTransformOrigin=function(t){t.style[E.transformOrigin]="0 0"},r.prototype.tryInitialZoomTo=function(t){var e=t.start,o=t.initialOrigin,n=this.scroll.scroller,i=n.scrollBehaviorX,s=n.scrollBehaviorY;e!==At&&(this.resetBoundaries([i,s]),this.zoomTo(e,o[0],o[1],0))},r.prototype.fingersOperation=function(t){if(typeof t=="number")this.numberOfFingers=t;else return this.numberOfFingers},r.prototype._doZoomTo=function(t,e,o,n){var i=this;o===void 0&&(o=this.zoomOpt.bounceTime),n===void 0&&(n=!1);var s=this.zoomOpt,a=s.min,c=s.max,l=this.scale,h=Y(t,a,c);(function(){if(o===0){i.scroll.trigger(i.scroll.eventTypes.zooming,{scale:h});return}if(o>0){var u,p=j(),f=p+o,v=function(){var m=j();if(m>=f){i.scroll.trigger(i.scroll.eventTypes.zooming,{scale:h}),et(u);return}var T=H.bounce.fn((m-p)/o),w=T*(h-l)+l;i.scroll.trigger(i.scroll.eventTypes.zooming,{scale:w}),u=Ie(v)};v()}})(),this.fingersOperation(2),this._zoomTo(h,l,e,o,n)},r.prototype._zoomTo=function(t,e,o,n,i){i===void 0&&(i=!1);var s=t/o.baseScale;this.setScale(t);var a=this.scroll.scroller,c=a.scrollBehaviorX,l=a.scrollBehaviorY;this.resetBoundaries([c,l]);var h=this.getNewPos(o.x,s,c,!0,i),u=this.getNewPos(o.y,s,l,!0,i);(c.currentPos!==Math.round(h)||l.currentPos!==Math.round(u)||t!==e)&&a.scrollTo(h,u,n,H.bounce,{start:{scale:e},end:{scale:t}})},r.prototype.resolveOrigin=function(t,e){var o=this.scroll.scroller,n=o.scrollBehaviorX,i=o.scrollBehaviorY,s={left:function(){return 0},top:function(){return 0},right:function(){return n.contentSize},bottom:function(){return i.contentSize},center:function(a){var c=a===0?n.contentSize:i.contentSize;return c/2}};return{originX:typeof t=="number"?t:s[t](0),originY:typeof e=="number"?e:s[e](1)}},r.prototype.zoomStart=function(t){var e=t.touches[0],o=t.touches[1];this.startDistance=this.getFingerDistance(t),this.startScale=this.scale;var n=Ih(this.wrapper),i=n.left,s=n.top;this.origin={x:Math.abs(e.pageX+o.pageX)/2+i-this.scroll.x,y:Math.abs(e.pageY+o.pageY)/2+s-this.scroll.y,baseScale:this.startScale},this.scroll.trigger(this.scroll.eventTypes.beforeZoomStart)},r.prototype.zoom=function(t){var e=this.getFingerDistance(t);if(!(!this.zoomed&&Math.abs(e-this.startDistance)<this.zoomOpt.minimalZoomDistance)){var o=this.dampingScale(e/this.startDistance*this.startScale),n=o/this.startScale;this.setScale(o),this.zoomed||(this.zoomed=!0,this.scroll.trigger(this.scroll.eventTypes.zoomStart));var i=this.scroll.scroller,s=i.scrollBehaviorX,a=i.scrollBehaviorY,c=this.getNewPos(this.origin.x,n,s,!1,!1),l=this.getNewPos(this.origin.y,n,a,!1,!1);this.scroll.trigger(this.scroll.eventTypes.zooming,{scale:this.scale}),i.translater.translate({x:c,y:l,scale:o})}},r.prototype.zoomEnd=function(){if(!!this.zoomed){if(this.shouldRebound()){this._doZoomTo(this.scale,this.origin,this.zoomOpt.bounceTime);return}this.scroll.trigger(this.scroll.eventTypes.zoomEnd,{scale:this.scale})}},r.prototype.getFingerDistance=function(t){var e=t.touches[0],o=t.touches[1],n=Math.abs(e.pageX-o.pageX),i=Math.abs(e.pageY-o.pageY);return Xh(n,i)},r.prototype.shouldRebound=function(){var t=this.zoomOpt,e=t.min,o=t.max,n=this.scale;if(n!==Y(n,e,o))return!0;var i=this.scroll.scroller,s=i.scrollBehaviorX,a=i.scrollBehaviorY;this.resetBoundaries([s,a]);var c=s.checkInBoundary().inBoundary,l=s.checkInBoundary().inBoundary;return!(c&&l)},r.prototype.dampingScale=function(t){var e=this.zoomOpt,o=e.min,n=e.max;return t<o?t=.5*o*Math.pow(2,t/o):t>n&&(t=2*n*Math.pow(.5,n/t)),t},r.prototype.setScale=function(t){this.scale=t},r.prototype.resetBoundaries=function(t){t.forEach(function(e){return e.computeBoundary()})},r.prototype.getNewPos=function(t,e,o,n,i){i===void 0&&(i=!1);var s=t-t*e+(i?o.currentPos:o.startPos);return n&&(s=Y(s,o.maxScrollPos,o.minScrollPos)),s>0?Math.floor(s):Math.ceil(s)},r.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},r.prototype.destroy=function(){this.hooksFn.forEach(function(t){var e=t[0],o=t[1],n=t[2];e.off(o,n)}),this.hooksFn.length=0},r.pluginName="zoom",r}(),Wu=function(){function r(t){this.ancestors=[],this.descendants=[],this.hooksManager=[],this.analyzed=!1,this.selfScroll=t}return r.create=function(t){return new r(t)},r.prototype.hasAncestors=function(t){var e=pt(this.ancestors,function(o){var n=o[0];return n===t});return e>-1},r.prototype.hasDescendants=function(t){var e=pt(this.descendants,function(o){var n=o[0];return n===t});return e>-1},r.prototype.addAncestor=function(t,e){var o=this.ancestors;o.push([t,e]),o.sort(function(n,i){return n[1]-i[1]})},r.prototype.addDescendant=function(t,e){var o=this.descendants;o.push([t,e]),o.sort(function(n,i){return n[1]-i[1]})},r.prototype.removeAncestor=function(t){var e=this.ancestors;if(e.length){var o=pt(this.ancestors,function(n){var i=n[0];return i===t});if(o>-1)return e.splice(o,1)}},r.prototype.removeDescendant=function(t){var e=this.descendants;if(e.length){var o=pt(this.descendants,function(n){var i=n[0];return i===t});if(o>-1)return e.splice(o,1)}},r.prototype.registerHooks=function(t,e,o){t.on(e,o),this.hooksManager.push([t,e,o])},r.prototype.setAnalyzed=function(t){t===void 0&&(t=!1),this.analyzed=t},r.prototype.purge=function(){var t=this;this.ancestors.forEach(function(e){var o=e[0];o.removeDescendant(t)}),this.descendants.forEach(function(e){var o=e[0];o.removeAncestor(t)}),this.hooksManager.forEach(function(e){var o=e[0],n=e[1],i=e[2];o.off(n,i)}),this.hooksManager=[]},r}(),Vu="plugins.nestedScroll",Uu=[{key:"purgeNestedScroll",name:"purgeNestedScroll"}],Ku=Uu.map(function(r){return{key:r.key,sourceKey:Vu+"."+r.name}}),Gu="INTERNAL_NESTED_SCROLL",qu=function(r){r.forEach(function(t){t.pending&&(t.stop(),t.resetPosition())})},Or=function(r){r.forEach(function(t){t.enable()})},Ht=function(r,t){r.forEach(function(e){(e.hasHorizontalScroll===t.hasHorizontalScroll||e.hasVerticalScroll===t.hasVerticalScroll)&&e.disable()})},Zu=function(r){r.forEach(function(t){var e=t.scroller,o=e.actions,n=e.scrollBehaviorX,i=e.scrollBehaviorY;o.fingerMoved=!0,o.contentMoved=!1,o.directionLockAction.reset(),n.start(),i.start(),n.resetStartPos(),i.resetStartPos(),o.startTime=+new Date})},Ju=function(r){var t=r.hasHorizontalScroll,e=r.hasVerticalScroll,o=r.x,n=r.y,i=r.minScrollX,s=r.maxScrollX,a=r.minScrollY,c=r.maxScrollY,l=r.movingDirectionX,h=r.movingDirectionY,u=!1,p=o>=i&&l===-1,f=o<=s&&l===1,v=n>=a&&h===-1,m=n<=c&&h===1;return e?u=v||m:t&&(u=p||f),u},Qu=function(r){var t=r.hasHorizontalScroll,e=r.hasVerticalScroll,o=r.x,n=r.y,i=r.minScrollX,s=r.maxScrollX,a=r.minScrollY,c=r.maxScrollY,l=!1,h=o>i,u=o<s,p=n>a,f=n<c;return e?l=p||f:t&&(l=h||u),l},tp=function(r){r.scroller.reflow(),r.resetPosition(0)},ep=function(r,t){for(var e=0,o=r.parentNode;o&&o!==t;)e++,o=o.parentNode;return e},rp=function(){function r(t){var e=this.handleOptions(t),o=r.instancesMap[e];return o||(o=r.instancesMap[e]=this,o.store=[],o.hooksFn=[]),o.init(t),o}return r.getAllNestedScrolls=function(){var t=r.instancesMap;return Object.keys(t).map(function(e){return t[e]})},r.purgeAllNestedScrolls=function(){var t=r.getAllNestedScrolls();t.forEach(function(e){return e.purgeNestedScroll()})},r.prototype.handleOptions=function(t){var e=t.options.nestedScroll===!0?{}:t.options.nestedScroll,o={groupId:Gu};this.options=F(o,e);var n=typeof this.options.groupId;return n!=="string"&&n!=="number"&&U("groupId must be string or number for NestedScroll plugin"),this.options.groupId},r.prototype.init=function(t){t.proxy(Ku),this.addBScroll(t),this.buildBScrollGraph(),this.analyzeBScrollGraph(),this.ensureEventInvokeSequence(),this.handleHooks(t)},r.prototype.handleHooks=function(t){var e=this;this.registerHooks(t.hooks,t.hooks.eventTypes.destroy,function(){e.deleteScroll(t)})},r.prototype.deleteScroll=function(t){var e=t.wrapper;e.isBScrollContainer=void 0;var o=this.store,n=this.hooksFn,i=pt(o,function(p){return p.selfScroll===t});if(i>-1){var s=o[i];s.purge(),o.splice(i,1)}var a=pt(n,function(p){var f=p[0];return f===t.hooks});if(a>-1){var c=n[a],l=c[0],h=c[1],u=c[2];l.off(h,u),n.splice(a,1)}},r.prototype.addBScroll=function(t){this.store.push(Wu.create(t))},r.prototype.buildBScrollGraph=function(){for(var t=this.store,e,o,n,i,s=this.store.length,a=0;a<s;a++){e=t[a],n=e.selfScroll.wrapper;for(var c=0;c<s;c++)if(o=t[c],i=o.selfScroll.wrapper,e!==o&&!!n.contains(i)){var l=ep(i,n);e.hasDescendants(o)||e.addDescendant(o,l),o.hasAncestors(e)||o.addAncestor(e,l)}}},r.prototype.analyzeBScrollGraph=function(){this.store.forEach(function(t){if(!t.analyzed){var e=t.ancestors,o=t.descendants,n=t.selfScroll,i=function(){var c=e.map(function(h){var u=h[0];return u.selfScroll}),l=o.map(function(h){var u=h[0];return u.selfScroll});qu(zt(c,l)),Qu(n)&&tp(n),Zu(c),Ht(c,n)},s=function(){var c=e.map(function(h){var u=h[0];return u.selfScroll}),l=o.map(function(h){var u=h[0];return u.selfScroll});Or(zt(c,l))};t.registerHooks(n,n.eventTypes.beforeScrollStart,i),t.registerHooks(n,n.eventTypes.touchEnd,s);var a=n.scroller.actions.hooks;t.registerHooks(a,a.eventTypes.detectMovingDirection,function(){var c=e.map(function(f){var v=f[0];return v.selfScroll}),l=c[0],h=c.slice(1),u=n.scroller.actions.contentMoved,p=c.length===0;if(u)Ht(c,n);else if(!p&&Ju(n))return Ht([n],n),l&&Or([l]),Ht(h,n),!0}),t.setAnalyzed(!0)}})},r.prototype.ensureEventInvokeSequence=function(){var t=this.store.slice(),e=t.sort(function(o,n){return o.descendants.length-n.descendants.length});e.forEach(function(o){var n=o.selfScroll;n.scroller.actionsHandler.rebindDOMEvents()})},r.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},r.prototype.purgeNestedScroll=function(){var t=this.options.groupId;this.store.forEach(function(e){e.purge()}),this.store=[],this.hooksFn.forEach(function(e){var o=e[0],n=e[1],i=e[2];o.off(n,i)}),this.hooksFn=[],delete r.instancesMap[t]},r.pluginName="nestedScroll",r.instancesMap={},r}(),Er=10,_r=30,op=function(){function r(t,e){this.wrapperHeight=t,this.tombstoneHeight=e,this.lastDirection=1,this.lastPos=0}return r.prototype.calculate=function(t,e){var o=t-this.lastPos;this.lastPos=t;var n=this.getDirection(o),i=this.calculateIndex(0,t,e),s=this.calculateIndex(i,t+this.wrapperHeight,e);return n===1?(i-=Er,s+=_r):(i-=_r,s+=Er),i<0&&(i=0),{start:i,end:s}},r.prototype.getDirection=function(t){var e;if(t>0)e=1;else if(t<0)e=0;else return this.lastDirection;return this.lastDirection=e,e},r.prototype.calculateIndex=function(t,e,o){if(e<=0)return t;for(var n=t,i=o[n]&&o[n].pos!==-1?o[n].pos:0,s=i,a=0;n<o.length&&o[n].pos<e;)s=o[n].pos,n++;return n===o.length&&(a=Math.floor((e-s)/this.tombstoneHeight)),n+=a,n},r.prototype.resetState=function(){this.lastDirection=1,this.lastPos=0},r}(),np=function(){function r(){this.data=null,this.dom=null,this.tombstone=null,this.width=0,this.height=0,this.pos=0}return r}(),ip=function(){function r(t,e,o){this.fetchFn=e,this.onFetchFinish=o,this.loadedNum=0,this.fetching=!1,this.hasMore=!0,this.list=t||[]}return r.prototype.update=function(t){return ie(this,void 0,void 0,function(){var e;return se(this,function(o){return this.hasMore||(t=Math.min(t,this.list.length)),t>this.list.length&&(e=t-this.list.length,this.addEmptyData(e)),[2,this.checkToFetch(t)]})})},r.prototype.add=function(t){for(var e=0;e<t.length;e++)this.list[this.loadedNum]?this.list[this.loadedNum]=K(K({},this.list[this.loadedNum]),{data:t[e]}):this.list[this.loadedNum]={data:t[e]},this.loadedNum++;return this.list},r.prototype.addEmptyData=function(t){for(var e=0;e<t;e++)this.list.push(new np);return this.list},r.prototype.fetch=function(t){return ie(this,void 0,void 0,function(){var e;return se(this,function(o){switch(o.label){case 0:return this.fetching?[2,[]]:(this.fetching=!0,[4,this.fetchFn(t)]);case 1:return e=o.sent(),this.fetching=!1,[2,e]}})})},r.prototype.checkToFetch=function(t){return ie(this,void 0,void 0,function(){var e,o,n;return se(this,function(i){switch(i.label){case 0:return this.hasMore?t<=this.loadedNum?[2]:(e=t-this.loadedNum,[4,this.fetch(e)]):[2];case 1:return o=i.sent(),o instanceof Array&&o.length?(this.add(o),n=this.onFetchFinish(this.list,!0),[2,this.checkToFetch(n)]):(typeof o=="boolean"&&o===!1&&(this.hasMore=!1,this.list.splice(this.loadedNum),this.onFetchFinish(this.list,!1)),[2])}})})},r.prototype.getList=function(){return this.list},r.prototype.resetState=function(){this.loadedNum=0,this.fetching=!1,this.hasMore=!0,this.list=[]},r}(),Nt=function(){function r(t){this.create=t,this.cached=[],this.width=0,this.height=0,this.initialed=!1,this.getSize()}return r.isTombstone=function(t){return t&&t.classList?t.classList.contains("tombstone"):!1},r.prototype.getSize=function(){if(!this.initialed){var t=this.create();t.style.position="absolute",document.body.appendChild(t),t.style.display="",this.height=t.offsetHeight,this.width=t.offsetWidth,document.body.removeChild(t),this.cached.push(t)}},r.prototype.getOne=function(){var t=this.cached.pop();if(t){var e=t.style;return e.display="",e.opacity="1",e[E.transform]="",e[E.transition]="",t}return this.create()},r.prototype.recycle=function(t){for(var e=0,o=t;e<o.length;e++){var n=o[e];n.style.display="none",this.cached.push(n)}return this.cached},r.prototype.recycleOne=function(t){return this.cached.push(t),this.cached},r}(),ue=200,sp=function(){function r(t,e,o){this.renderFn=e,this.tombstone=o,this.unusedDom=[],this.timers=[],this.setContent(t)}return r.prototype.update=function(t,e,o){e>=t.length&&(e=t.length-1),o>t.length&&(o=t.length),this.collectUnusedDom(t,e,o),this.createDom(t,e,o),this.cacheHeight(t,e,o);var n=this.positionDom(t,e,o),i=n.startPos,s=n.startDelta,a=n.endPos;return{start:e,startPos:i,startDelta:s,end:o,endPos:a}},r.prototype.collectUnusedDom=function(t,e,o){for(var n=0;n<t.length;n++){if(n===e){n=o-1;continue}if(t[n].dom){var i=t[n].dom;Nt.isTombstone(i)?(this.tombstone.recycleOne(i),i.style.display="none"):this.unusedDom.push(i),t[n].dom=null}}return t},r.prototype.createDom=function(t,e,o){for(var n=e;n<o;n++){var i=t[n].dom,s=t[n].data;if(i)if(Nt.isTombstone(i)&&s)t[n].tombstone=i,t[n].dom=null;else continue;i=s?this.renderFn(s,this.unusedDom.pop()):this.tombstone.getOne(),i.style.position="absolute",t[n].dom=i,t[n].pos=-1,this.content.appendChild(i)}},r.prototype.cacheHeight=function(t,e,o){for(var n=e;n<o;n++)t[n].data&&!t[n].height&&(t[n].height=t[n].dom.offsetHeight)},r.prototype.positionDom=function(t,e,o){for(var n=this,i=[],s=this.getStartPos(t,e,o),a=s.start,c=s.delta,l=a,h=e;h<o;h++){var u=t[h].tombstone;if(u){var p=u.style;p[E.transition]=Lh+"transform "+ue+"ms, opacity "+ue+"ms",p[E.transform]="translateY("+l+"px)",p.opacity="0",t[h].tombstone=null,i.push(u)}t[h].dom&&t[h].pos!==l&&(t[h].dom.style[E.transform]="translateY("+l+"px)",t[h].pos=l),l+=t[h].height||this.tombstone.height}var f=window.setTimeout(function(){n.tombstone.recycle(i)},ue);return this.timers.push(f),{startPos:a,startDelta:c,endPos:l}},r.prototype.getStartPos=function(t,e,o){if(t[e]&&t[e].pos!==-1)return{start:t[e].pos,delta:0};for(var n=t[0].pos===-1?0:t[0].pos,i=0;i<e;i++)n+=t[i].height||this.tombstone.height;var s=n,a;for(a=e;a<o;a++)if(!Nt.isTombstone(t[a].dom)&&t[a].pos!==-1){n=t[a].pos;break}var c=a;if(c<o)for(;c>e;)n-=t[c-1].height,c--;var l=s-n;return{start:n,delta:l}},r.prototype.removeTombstone=function(){for(var t=this.content.querySelectorAll(".tombstone"),e=t.length-1;e>=0;e--)this.content.removeChild(t[e])},r.prototype.setContent=function(t){t!==this.content&&(this.content=t)},r.prototype.destroy=function(){this.removeTombstone(),this.timers.forEach(function(t){clearTimeout(t)})},r.prototype.resetState=function(){this.destroy(),this.timers=[],this.unusedDom=[]},r}(),ap=-2e3,lp=function(){function r(t){this.scroll=t,this.start=0,this.end=0,this.init()}return r.prototype.init=function(){var t=this;this.handleOptions();var e=this.options,o=e.fetch,n=e.render,i=e.createTombstone;this.tombstone=new Nt(i),this.indexCalculator=new op(this.scroll.scroller.scrollBehaviorY.wrapperSize,this.tombstone.height),this.domManager=new sp(this.scroll.scroller.content,n,this.tombstone),this.dataManager=new ip([],o,this.onFetchFinish.bind(this)),this.scroll.on(this.scroll.eventTypes.destroy,this.destroy,this),this.scroll.on(this.scroll.eventTypes.scroll,this.update,this),this.scroll.on(this.scroll.eventTypes.contentChanged,function(a){t.domManager.setContent(a),t.indexCalculator.resetState(),t.domManager.resetState(),t.dataManager.resetState(),t.update({y:0})});var s=this.scroll.scroller.scrollBehaviorY;s.hooks.on(s.hooks.eventTypes.computeBoundary,this.modifyBoundary,this),this.update({y:0})},r.prototype.modifyBoundary=function(t){t.maxScrollPos=ap},r.prototype.handleOptions=function(){var t=this.scroll.options.infinity;t&&(typeof t.fetch!="function"&&U("Infinity plugin need fetch Function to new data."),typeof t.render!="function"&&U("Infinity plugin need render Function to render each item."),typeof t.render!="function"&&U("Infinity plugin need createTombstone Function to create tombstone."),this.options=t),this.scroll.options.probeType=3},r.prototype.update=function(t){var e=Math.round(-t.y),o=this.indexCalculator.calculate(e,this.dataManager.getList()),n=o.start,i=o.end;this.start=n,this.end=i,this.dataManager.update(i),this.updateDom(this.dataManager.getList())},r.prototype.onFetchFinish=function(t,e){var o=this.updateDom(t).end;return e||(this.domManager.removeTombstone(),this.scroll.scroller.animater.stop(),this.scroll.resetPosition()),o},r.prototype.updateDom=function(t){var e=this.domManager.update(t,this.start,this.end),o=e.end,n=e.startPos,i=e.endPos,s=e.startDelta;return s&&(this.scroll.minScrollY=s),i>this.scroll.maxScrollY&&(this.scroll.maxScrollY=-(i-this.scroll.scroller.scrollBehaviorY.wrapperSize)),{end:o,startPos:n,endPos:i}},r.prototype.destroy=function(){for(var t=this.scroll.scroller,e=t.content,o=t.scrollBehaviorY;e.firstChild;)e.removeChild(e.firstChild);this.domManager.destroy(),this.scroll.off("scroll",this.update),this.scroll.off("destroy",this.destroy),o.hooks.off(o.hooks.eventTypes.computeBoundary)},r.pluginName="infinity",r}(),cp="plugins.movable",hp=[{key:"putAt",name:"putAt"}],up=hp.map(function(r){return{key:r.key,sourceKey:cp+"."+r.name}}),pp=function(){function r(t){this.scroll=t,this.handleBScroll(),this.handleHooks()}return r.prototype.handleBScroll=function(){this.scroll.proxy(up)},r.prototype.handleHooks=function(){var t=this;this.hooksFn=[];var e=this.scroll.scroller,o=e.scrollBehaviorX,n=e.scrollBehaviorY,i=function(s,a){s.maxScrollPos>0&&(s.minScrollPos=a.wrapperSize-a.contentSize,s.maxScrollPos=0)};this.registerHooks(o.hooks,o.hooks.eventTypes.ignoreHasScroll,function(){return!0}),this.registerHooks(o.hooks,o.hooks.eventTypes.computeBoundary,function(s){i(s,o)}),this.registerHooks(n.hooks,n.hooks.eventTypes.ignoreHasScroll,function(){return!0}),this.registerHooks(n.hooks,n.hooks.eventTypes.computeBoundary,function(s){i(s,n)}),this.registerHooks(this.scroll.hooks,this.scroll.hooks.eventTypes.destroy,function(){t.destroy()})},r.prototype.putAt=function(t,e,o,n){o===void 0&&(o=this.scroll.options.bounceTime),n===void 0&&(n=H.bounce);var i=this.resolvePostion(t,e);this.scroll.scrollTo(i.x,i.y,o,n)},r.prototype.resolvePostion=function(t,e){var o=this.scroll.scroller,n=o.scrollBehaviorX,i=o.scrollBehaviorY,s={left:function(){return 0},top:function(){return 0},right:function(){return n.minScrollPos},bottom:function(){return i.minScrollPos},center:function(a){var c=a===0?n.minScrollPos:i.minScrollPos;return c/2}};return{x:typeof t=="number"?t:s[t](0),y:typeof e=="number"?e:s[e](1)}},r.prototype.destroy=function(){this.hooksFn.forEach(function(t){var e=t[0],o=t[1],n=t[2];e.off(o,n)}),this.hooksFn.length=0},r.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},r.pluginName="movable",r.applyOrder="pre",r}(),fp=function(r){return r.tagName.toLowerCase()==="img"},vp=function(){function r(t){this.scroll=t,this.refreshTimer=0,this.init()}return r.prototype.init=function(){this.handleOptions(this.scroll.options.observeImage),this.bindEventsToWrapper()},r.prototype.handleOptions=function(t){t===void 0&&(t={}),t=t===!0?{}:t;var e={debounceTime:100};this.options=F(e,t)},r.prototype.bindEventsToWrapper=function(){var t=this.scroll.scroller.wrapper;this.imageLoadEventRegister=new R(t,[{name:"load",handler:this.load.bind(this),capture:!0}]),this.imageErrorEventRegister=new R(t,[{name:"error",handler:this.load.bind(this),capture:!0}])},r.prototype.load=function(t){var e=this,o=t.target,n=this.options.debounceTime;o&&fp(o)&&(n===0?this.scroll.refresh():(clearTimeout(this.refreshTimer),this.refreshTimer=window.setTimeout(function(){e.scroll.refresh()},this.options.debounceTime)))},r.pluginName="observeImage",r}(),dp=function(r){var t={ratioX:0,ratioY:0};return r&&(typeof r=="number"?t.ratioX=t.ratioY=r:typeof r=="object"&&r&&(t.ratioX=r.x||0,t.ratioY=r.y||0)),t},pe=function(r){r.preventDefault(),r.stopPropagation()},gp=function(){function r(t,e){this.scroll=t,this.options=e,this.currentPos={x:0,y:0},this.hooksFn=[],this.handleDOM(),this.handleHooks(),this.handleInteractive()}return r.prototype.handleDOM=function(){var t=this.options,e=t.relationElement,o=t.relationElementHandleElementIndex,n=o===void 0?0:o;this.wrapper=e,this.indicatorEl=this.wrapper.children[n]},r.prototype.handleHooks=function(){var t=this,e=this.scroll,o=e.hooks,n=e.scroller.translater.hooks,i=e.scroller.animater.hooks;this.registerHooks(o,o.eventTypes.refresh,this.refresh),this.registerHooks(n,n.eventTypes.translate,function(s){t.updatePosition(s)}),this.registerHooks(i,i.eventTypes.time,this.transitionTime),this.registerHooks(i,i.eventTypes.timeFunction,this.transitionTimingFunction)},r.prototype.transitionTime=function(t){t===void 0&&(t=0),this.indicatorEl.style[E.transitionDuration]=t+"ms"},r.prototype.transitionTimingFunction=function(t){this.indicatorEl.style[E.transitionTimingFunction]=t},r.prototype.handleInteractive=function(){this.options.interactive!==!1&&this.registerEvents()},r.prototype.registerHooks=function(t,e,o){t.on(e,o,this),this.hooksFn.push([t,e,o])},r.prototype.registerEvents=function(){var t=this.scroll.options,e=t.disableMouse,o=t.disableTouch,n=[],i=[],s=[];e||(n.push({name:"mousedown",handler:this.start.bind(this)}),i.push({name:"mousemove",handler:this.move.bind(this)}),s.push({name:"mouseup",handler:this.end.bind(this)})),o||(n.push({name:"touchstart",handler:this.start.bind(this)}),i.push({name:"touchmove",handler:this.move.bind(this)}),s.push({name:"touchend",handler:this.end.bind(this)},{name:"touchcancel",handler:this.end.bind(this)})),this.startEventRegister=new R(this.indicatorEl,n),this.moveEventRegister=new R(window,i),this.endEventRegister=new R(window,s)},r.prototype.refresh=function(){var t=this.scroll,e=t.x,o=t.y,n=t.hasHorizontalScroll,i=t.hasVerticalScroll,s=t.maxScrollX,a=t.maxScrollY,c=dp(this.options.ratio),l=c.ratioX,h=c.ratioY,u=qh(this.wrapper),p=u.width,f=u.height,v=lt(this.indicatorEl),m=v.width,T=v.height;n&&(this.maxScrollX=p-m,this.translateXSign=this.maxScrollX>0?-1:1,this.minScrollX=0,this.ratioX=l||Math.abs(this.maxScrollX/s)),i&&(this.maxScrollY=f-T,this.translateYSign=this.maxScrollY>0?-1:1,this.minScrollY=0,this.ratioY=h||Math.abs(this.maxScrollY/a)),this.updatePosition({x:e,y:o})},r.prototype.start=function(t){if(!this.BScrollIsDisabled()){var e=t.touches?t.touches[0]:t;pe(t),this.initiated=!0,this.moved=!1,this.lastPointX=e.pageX,this.lastPointY=e.pageY,this.startTime=j(),this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.beforeScrollStart)}},r.prototype.BScrollIsDisabled=function(){return!this.scroll.enabled},r.prototype.move=function(t){if(!!this.initiated){var e=t.touches?t.touches[0]:t,o=e.pageX,n=e.pageY;pe(t);var i=o-this.lastPointX,s=n-this.lastPointY;if(this.lastPointX=o,this.lastPointY=n,!this.moved&&!this.indicatorNotMoved(i,s)&&(this.moved=!0,this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollStart)),this.moved){var a=this.getBScrollPosByRatio(this.currentPos,i,s);this.syncBScroll(a)}}},r.prototype.end=function(t){if(!!this.initiated&&(this.initiated=!1,pe(t),this.moved)){var e=this.scroll,o=e.x,n=e.y;this.scroll.scroller.hooks.trigger(this.scroll.scroller.hooks.eventTypes.scrollEnd,{x:o,y:n})}},r.prototype.getBScrollPosByRatio=function(t,e,o){var n=t.x,i=t.y,s=this.scroll,a=s.hasHorizontalScroll,c=s.hasVerticalScroll,l=s.minScrollX,h=s.maxScrollX,u=s.minScrollY,p=s.maxScrollY,f=this.scroll,v=f.x,m=f.y;if(a){var T=Y(n+e,Math.min(this.minScrollX,this.maxScrollX),Math.max(this.minScrollX,this.maxScrollX)),w=Math.round(T/this.ratioX*this.translateXSign);v=Y(w,h,l)}if(c){var O=Y(i+o,Math.min(this.minScrollY,this.maxScrollY),Math.max(this.minScrollY,this.maxScrollY)),A=Math.round(O/this.ratioY*this.translateYSign);m=Y(A,p,u)}return{x:v,y:m}},r.prototype.indicatorNotMoved=function(t,e){var o=this.currentPos,n=o.x,i=o.y,s=n===this.minScrollX&&t<=0||n===this.maxScrollX&&t>=0,a=i===this.minScrollY&&e<=0||i===this.maxScrollY&&e>=0;return s&&a},r.prototype.syncBScroll=function(t){var e=j(),o=this.scroll,n=o.options,i=o.scroller,s=n.probeType,a=n.momentumLimitTime;i.translater.translate(t),e-this.startTime>a&&(this.startTime=e,s===1&&i.hooks.trigger(i.hooks.eventTypes.scroll,t)),s>1&&i.hooks.trigger(i.hooks.eventTypes.scroll,t)},r.prototype.updatePosition=function(t){var e=this.getIndicatorPosByRatio(t);this.applyTransformProperty(e),this.currentPos=K({},e)},r.prototype.applyTransformProperty=function(t){var e=this.scroll.options.translateZ,o=["translateX("+t.x+"px)","translateY("+t.y+"px)",""+e];this.indicatorEl.style[E.transform]=o.join(" ")},r.prototype.getIndicatorPosByRatio=function(t){var e=t.x,o=t.y,n=this.scroll,i=n.hasHorizontalScroll,s=n.hasVerticalScroll,a=K({},this.currentPos);if(i){var c=Math.round(this.ratioX*e*this.translateXSign);a.x=Y(c,Math.min(this.minScrollX,this.maxScrollX),Math.max(this.minScrollX,this.maxScrollX))}if(s){var l=Math.round(this.ratioY*o*this.translateYSign);a.y=Y(l,Math.min(this.minScrollY,this.maxScrollY),Math.max(this.minScrollY,this.maxScrollY))}return a},r.prototype.destroy=function(){this.options.interactive!==!1&&(this.startEventRegister.destroy(),this.moveEventRegister.destroy(),this.endEventRegister.destroy()),this.hooksFn.forEach(function(t){var e=t[0],o=t[1],n=t[2];e.off(o,n)}),this.hooksFn.length=0},r}(),yp=function(){function r(t){this.scroll=t,this.options=[],this.indicators=[],this.handleOptions(),this.handleHooks()}return r.prototype.handleOptions=function(){var t=this.scroll.options.indicators;yr(Array.isArray(t),"'indicators' must be an array.");for(var e=0,o=t;e<o.length;e++){var n=o[e];yr(!!n.relationElement,"'relationElement' must be a HTMLElement."),this.createIndicators(n)}},r.prototype.createIndicators=function(t){this.indicators.push(new gp(this.scroll,t))},r.prototype.handleHooks=function(){var t=this,e=this.scroll.hooks;e.on(e.eventTypes.destroy,function(){for(var o=0,n=t.indicators;o<n.length;o++){var i=n[o];i.destroy()}t.indicators=[]})},r.pluginName="indicators",r}();mo.use(gu).use(yu).use(bu).use(xu).use(Ou).use(Xu).use(Fu).use(ju).use(rp).use(lp).use(pp).use(vp).use(yp);var Le=function(t){return Object.prototype.toString.call(t)==="[object Array]"},To=function(t){var e=t.dataSource;return e&&e[0]&&!Le(e[0])};function mp(r){var t=Sp();return function(){var o=tt(r),n;if(t){var i=tt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Kt(this,n)}}function Sp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var fe=function(t,e){return"value"in t?t.value:"defaultValue"in t?t.defaultValue:Le(t.dataSource)&&t.dataSource[0]?t.dataSource[0][t.valueMember]:e},bo=function(r){Wt(e,r);var t=mp(e);function e(){var o;Vt(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i)),o.BScroll=void 0,o.wrapper=void 0,o.handleScrollEnd=function(){var a=o.props,c=a.dataSource,l=a.valueMember,h=o.BScroll.getSelectedIndex(),u=c[h];u&&o.fireValueChange(u[l])},o.getSelectedIndex=function(a,c){var l=o.props.valueMember,h=0;return c&&c.some(function(u,p){return u[l]===a?(h=p,!0):!1}),h},o.fireValueChange=function(a){var c=fe(o.props);if(a!==c){var l=o.props.onChange;typeof l=="function"&&l(a)}},o}return Ut(e,[{key:"componentDidMount",value:function(){var n=this,i=this.props,s=i.prefixCls,a=i.dataSource,c=i.disabled,l=fe(this.props),h=this.getSelectedIndex(l,a);this.BScroll=new mo(this.wrapper,{wheel:{selectedIndex:h,wheelWrapperClass:"".concat(s,"-content"),wheelItemClass:"".concat(s,"-item")},probeType:3}),c&&this.BScroll.disable(),this.BScroll.on("scrollEnd",function(){n.handleScrollEnd()})}},{key:"componentDidUpdate",value:function(n){var i=this.props,s=i.value,a=i.dataSource,c=i.disabled,l=i.stopScroll;c&&this.BScroll.disable(),Qt(n.dataSource,a)||this.BScroll.refresh();var h=this.getSelectedIndex(n.value,n.dataSource),u=this.getSelectedIndex(s,a);u!==h&&this.BScroll.wheelTo(u),l&&n.stopScroll!==l&&this.BScroll.stop()}},{key:"componentWillUnmount",value:function(){this.BScroll.destroy()}},{key:"render",value:function(){var n=this,i=this.props,s=i.prefixCls,a=i.className,c=i.valueMember,l=i.dataSource,h=i.itemRender,u=i.disabled,p=fe(this.props),f=l.map(function(m,T){var w,O=ge("".concat(s,"__item"),(w={},xt(w,"".concat(s,"__item--selected"),p===m[c]),xt(w,"".concat(s,"__item--disabled"),u),w));return B.createElement("div",{key:+T,className:O},h(m))}),v=ge(s,a);return B.createElement("div",{className:v,ref:function(T){n.wrapper=T}},B.createElement("div",{className:"".concat(s,"__content")},f))}}]),e}(at.exports.Component);bo.defaultProps={prefixCls:"za-wheel",dataSource:[],valueMember:"value",itemRender:function(t){return t.label},stopScroll:!1};var Tp=bo,vt=function(t){var e=[].concat(t);return e.some(function(o){return!!o||o===0||o===!1})},ko=function(t,e){return"value"in t&&vt(t.value)?[].concat(t.value):"defaultValue"in t&&vt(t.defaultValue)?[].concat(t.defaultValue):"wheelDefaultValue"in t&&vt(t.wheelDefaultValue)?[].concat(t.wheelDefaultValue):e},bp=function(t){var e=t.valueMember,o=t.dataSource,n=ko(t,o.map(function(i){return i[0]&&i[0][e]}));return{value:n,objValue:t.dataSource.map(function(i,s){return i.filter(function(a){return a[e]===n[s]})[0]}),dataSource:t.dataSource}},kp=function(t){var e=t.valueMember,o=t.cols,n=ko(t,[]),i=[],s=[],a=function c(l){var h=l.level,u=h===void 0?0:h,p=l.dataSource;return s[u]=p.map(function(f,v){var m=f.children,T=De(f,["children"]);return(vt(n[u])&&f[e]===n[u]||!vt(n[u])&&v===0)&&(n[u]=f[e],i[u]=T,Le(m)&&m.length>0&&u+1<o&&c({level:u+1,dataSource:m})),T}),n};return n=a({dataSource:t.dataSource}),{value:n,objValue:i,dataSource:s}},ve={getSource:function(t){return To(t)?kp(t):bp(t)},isValueValid:vt};function Cr(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,o)}return e}function Pp(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Cr(Object(e),!0).forEach(function(o){xt(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Cr(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}function wp(r){var t=xp();return function(){var o=tt(r),n;if(t){var i=tt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Kt(this,n)}}function xp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Po=function(r){Wt(e,r);var t=wp(e);function e(){var o;Vt(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i)),o.state=ve.getSource(o.props),o.onValueChange=function(a,c){var l=o.state.value.slice(),h=o.props,u=h.dataSource,p=h.onChange,f=h.valueMember,v=h.cols;To({dataSource:u})&&(l.length=c+1),l[c]=a;var m=ve.getSource({dataSource:u,value:l,valueMember:f,cols:v});o.setState(m),typeof p=="function"&&p(m.objValue,c)},o.renderWheel=function(){var a=o.props,c=a.valueMember,l=a.itemRender,h=a.disabled,u=a.stopScroll,p=o.state,f=p.dataSource,v=p.value;return f.map(function(m,T){return B.createElement(Tp,{key:+T,dataSource:m,value:v[T],valueMember:c,itemRender:l,disabled:h,onChange:function(O){return o.onValueChange(O,T)},stopScroll:u})})},o}return Ut(e,[{key:"render",value:function(){var n=this.props,i=n.prefixCls,s=n.className,a=ge(i,s);return B.createElement("div",{className:a},B.createElement("div",{className:"".concat(i,"__content")},this.renderWheel()),B.createElement("div",{className:"".concat(i,"__mask ").concat(i,"__mask--top")}),B.createElement("div",{className:"".concat(i,"__mask ").concat(i,"__mask--bottom")}))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return Qt(dt(n,["onChange"]),dt(i.prevProps,["onChange"]))?null:Pp({prevProps:n},ve.getSource(n))}}]),e}(at.exports.Component);Po.defaultProps={prefixCls:"za-picker-view",dataSource:[],cols:1/0,valueMember:"value",itemRender:function(t){return t.label},disabled:!1};var Mp=Po,wo={exports:{}};(function(r,t){(function(e,o){r.exports=o()})(Eo,function(){var e=1e3,o=6e4,n=36e5,i="millisecond",s="second",a="minute",c="hour",l="day",h="week",u="month",p="quarter",f="year",v="date",m="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,O={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(b){var g=["th","st","nd","rd"],d=b%100;return"["+b+(g[(d-20)%10]||g[d]||g[0])+"]"}},A=function(b,g,d){var S=String(b);return!S||S.length>=g?b:""+Array(g+1-S.length).join(d)+b},I={s:A,z:function(b){var g=-b.utcOffset(),d=Math.abs(g),S=Math.floor(d/60),y=d%60;return(g<=0?"+":"-")+A(S,2,"0")+":"+A(y,2,"0")},m:function b(g,d){if(g.date()<d.date())return-b(d,g);var S=12*(d.year()-g.year())+(d.month()-g.month()),y=g.clone().add(S,u),k=d-y<0,P=g.clone().add(S+(k?-1:1),u);return+(-(S+(d-y)/(k?y-P:P-y))||0)},a:function(b){return b<0?Math.ceil(b)||0:Math.floor(b)},p:function(b){return{M:u,y:f,w:h,d:l,D:v,h:c,m:a,s,ms:i,Q:p}[b]||String(b||"").toLowerCase().replace(/s$/,"")},u:function(b){return b===void 0}},$="en",z={};z[$]=O;var V=function(b){return b instanceof ct},rt=function b(g,d,S){var y;if(!g)return $;if(typeof g=="string"){var k=g.toLowerCase();z[k]&&(y=k),d&&(z[k]=d,y=k);var P=g.split("-");if(!y&&P.length>1)return b(P[0])}else{var M=g.name;z[M]=g,y=M}return!S&&y&&($=y),y||!S&&$},C=function(b,g){if(V(b))return b.clone();var d=typeof g=="object"?g:{};return d.date=b,d.args=arguments,new ct(d)},x=I;x.l=rt,x.i=V,x.w=function(b,g){return C(b,{locale:g.$L,utc:g.$u,x:g.$x,$offset:g.$offset})};var ct=function(){function b(d){this.$L=rt(d.locale,null,!0),this.parse(d)}var g=b.prototype;return g.parse=function(d){this.$d=function(S){var y=S.date,k=S.utc;if(y===null)return new Date(NaN);if(x.u(y))return new Date;if(y instanceof Date)return new Date(y);if(typeof y=="string"&&!/Z$/i.test(y)){var P=y.match(T);if(P){var M=P[2]-1||0,_=(P[7]||"0").substring(0,3);return k?new Date(Date.UTC(P[1],M,P[3]||1,P[4]||0,P[5]||0,P[6]||0,_)):new Date(P[1],M,P[3]||1,P[4]||0,P[5]||0,P[6]||0,_)}}return new Date(y)}(d),this.$x=d.x||{},this.init()},g.init=function(){var d=this.$d;this.$y=d.getFullYear(),this.$M=d.getMonth(),this.$D=d.getDate(),this.$W=d.getDay(),this.$H=d.getHours(),this.$m=d.getMinutes(),this.$s=d.getSeconds(),this.$ms=d.getMilliseconds()},g.$utils=function(){return x},g.isValid=function(){return this.$d.toString()!==m},g.isSame=function(d,S){var y=C(d);return this.startOf(S)<=y&&y<=this.endOf(S)},g.isAfter=function(d,S){return C(d)<this.startOf(S)},g.isBefore=function(d,S){return this.endOf(S)<C(d)},g.$g=function(d,S,y){return x.u(d)?this[S]:this.set(y,d)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(d,S){var y=this,k=!!x.u(S)||S,P=x.p(d),M=function(nt,N){var J=x.w(y.$u?Date.UTC(y.$y,N,nt):new Date(y.$y,N,nt),y);return k?J:J.endOf(l)},_=function(nt,N){return x.w(y.toDate()[nt].apply(y.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(N)),y)},X=this.$W,L=this.$M,W=this.$D,ht="set"+(this.$u?"UTC":"");switch(P){case f:return k?M(1,0):M(31,11);case u:return k?M(1,L):M(0,L+1);case h:var ot=this.$locale().weekStart||0,bt=(X<ot?X+7:X)-ot;return M(k?W-bt:W+(6-bt),L);case l:case v:return _(ht+"Hours",0);case c:return _(ht+"Minutes",1);case a:return _(ht+"Seconds",2);case s:return _(ht+"Milliseconds",3);default:return this.clone()}},g.endOf=function(d){return this.startOf(d,!1)},g.$set=function(d,S){var y,k=x.p(d),P="set"+(this.$u?"UTC":""),M=(y={},y[l]=P+"Date",y[v]=P+"Date",y[u]=P+"Month",y[f]=P+"FullYear",y[c]=P+"Hours",y[a]=P+"Minutes",y[s]=P+"Seconds",y[i]=P+"Milliseconds",y)[k],_=k===l?this.$D+(S-this.$W):S;if(k===u||k===f){var X=this.clone().set(v,1);X.$d[M](_),X.init(),this.$d=X.set(v,Math.min(this.$D,X.daysInMonth())).$d}else M&&this.$d[M](_);return this.init(),this},g.set=function(d,S){return this.clone().$set(d,S)},g.get=function(d){return this[x.p(d)]()},g.add=function(d,S){var y,k=this;d=Number(d);var P=x.p(S),M=function(L){var W=C(k);return x.w(W.date(W.date()+Math.round(L*d)),k)};if(P===u)return this.set(u,this.$M+d);if(P===f)return this.set(f,this.$y+d);if(P===l)return M(1);if(P===h)return M(7);var _=(y={},y[a]=o,y[c]=n,y[s]=e,y)[P]||1,X=this.$d.getTime()+d*_;return x.w(X,this)},g.subtract=function(d,S){return this.add(-1*d,S)},g.format=function(d){var S=this,y=this.$locale();if(!this.isValid())return y.invalidDate||m;var k=d||"YYYY-MM-DDTHH:mm:ssZ",P=x.z(this),M=this.$H,_=this.$m,X=this.$M,L=y.weekdays,W=y.months,ht=y.meridiem,ot=function(N,J,kt,Ot){return N&&(N[J]||N(S,k))||kt[J].slice(0,Ot)},bt=function(N){return x.s(M%12||12,N,"0")},nt=ht||function(N,J,kt){var Ot=N<12?"AM":"PM";return kt?Ot.toLowerCase():Ot};return k.replace(w,function(N,J){return J||function(kt){switch(kt){case"YY":return String(S.$y).slice(-2);case"YYYY":return x.s(S.$y,4,"0");case"M":return X+1;case"MM":return x.s(X+1,2,"0");case"MMM":return ot(y.monthsShort,X,W,3);case"MMMM":return ot(W,X);case"D":return S.$D;case"DD":return x.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return ot(y.weekdaysMin,S.$W,L,2);case"ddd":return ot(y.weekdaysShort,S.$W,L,3);case"dddd":return L[S.$W];case"H":return String(M);case"HH":return x.s(M,2,"0");case"h":return bt(1);case"hh":return bt(2);case"a":return nt(M,_,!0);case"A":return nt(M,_,!1);case"m":return String(_);case"mm":return x.s(_,2,"0");case"s":return String(S.$s);case"ss":return x.s(S.$s,2,"0");case"SSS":return x.s(S.$ms,3,"0");case"Z":return P}return null}(N)||P.replace(":","")})},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(d,S,y){var k,P=this,M=x.p(S),_=C(d),X=(_.utcOffset()-this.utcOffset())*o,L=this-_,W=function(){return x.m(P,_)};switch(M){case f:k=W()/12;break;case u:k=W();break;case p:k=W()/3;break;case h:k=(L-X)/6048e5;break;case l:k=(L-X)/864e5;break;case c:k=L/n;break;case a:k=L/o;break;case s:k=L/e;break;default:k=L}return y?k:x.a(k)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return z[this.$L]},g.locale=function(d,S){if(!d)return this.$L;var y=this.clone(),k=rt(d,S,!0);return k&&(y.$L=k),y},g.clone=function(){return x.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},b}(),Dt=ct.prototype;return C.prototype=Dt,[["$ms",i],["$s",s],["$m",a],["$H",c],["$W",l],["$M",u],["$y",f],["$D",v]].forEach(function(b){Dt[b[1]]=function(g){return this.$g(g,b[0],b[1])}}),C.extend=function(b,g){return b.$i||(b(g,ct,C),b.$i=!0),C},C.locale=rt,C.isDayjs=V,C.unix=function(b){return C(1e3*b)},C.en=z[$],C.Ls=z,C.p={},C})})(wo);var Me=wo.exports,wt=function(t){if(t instanceof Date)return t;if(!t)return"";var e=/^\d{1,2}:\d{1,2}$/.test(t);if(e){var o=t.split(":"),n=_o(o,2),i=n[0],s=n[1],a=new Date;return a.setHours(+i),a.setMinutes(+s),a}return new Date(Me(t).format())},jt=function(t){var e=t.value&&wt(t.value),o=t.defaultValue&&wt(t.defaultValue),n=t.wheelDefaultValue&&wt(t.wheelDefaultValue);return{date:e||o,wheelDefault:n}},Yr=function(t,e,o,n,i,s){return new Date(t,e,o,n,i,s)},it=function(t){return new Date(+t)};function xo(r){return new Date(r.getFullYear(),r.getMonth()+1,0).getDate()}var Dp=function(t,e){t.setDate(Math.min(t.getDate(),xo(new Date(t.getFullYear(),e)))),t.setMonth(e)},Br=function(t){return t<10?"0".concat(t):t};function $r(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,o)}return e}function Op(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?$r(Object(e),!0).forEach(function(o){xt(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):$r(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}function Ep(r){var t=_p();return function(){var o=tt(r),n;if(t){var i=tt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Kt(this,n)}}function _p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ut="datetime",Pt="date",Xr="time",It="month",Lt="year",Ar=24*60*60*1e3,Mo=function(r){Wt(e,r);var t=Ep(e);function e(o){var n;Vt(this,e),n=t.call(this,o),n.onValueChange=function(s,a){var c=n.props.onChange,l=n.getNewDate(s,a);n.setState({date:l}),typeof c=="function"&&c(l)},n.getNewDate=function(s,a){var c=n.props,l=c.mode,h=c.valueMember,u=parseInt(s[a][h],10),p=it(n.getDate());if(l===Lt||l===It||l===Pt||l===ut)switch(a){case 0:p.setFullYear(u);break;case 1:Dp(p,u);break;case 2:p.setDate(u);break;case 3:p.setHours(u);break;case 4:p.setMinutes(u);break}else switch(a){case 0:p.setHours(u);break;case 1:p.setMinutes(u);break}return n.clipDate(p)},n.getDateData=function(){for(var s=n.props,a=s.locale,c=s.mode,l=n.getDate(),h=[],u=[],p=[],f=l.getFullYear(),v=l.getMonth(),m=n.getMinYear(),T=n.getMaxYear(),w=m;w<=T;w+=1)h.push({label:w+a.year,value:w});if(c===Lt)return[h];var O=0,A=11;f===m&&(O=n.getMinMonth()),f===T&&(A=n.getMaxMonth());for(var I=O;I<=A;I+=1)u.push({label:I+1+a.month,value:I});if(c===It)return[h,u];var $=1,z=xo(l);f===m&&v===O&&($=n.getMinDay()),f===T&&v===A&&(z=n.getMaxDay());for(var V=$;V<=z;V+=1)p.push({label:V+a.day,value:V});return c===Pt?[h,u,p]:[h,u,p]},n.getTimeData=function(){var s=n.props,a=s.locale,c=s.mode,l=s.minuteStep,h=n.getDate(),u=[],p=[],f=0,v=23,m=0,T=59,w=n.getMinHour(),O=n.getMaxHour(),A=n.getMinMinute(),I=n.getMaxMinute(),$=h.getHours();if(c===ut){var z=h.getFullYear(),V=h.getMonth(),rt=h.getDate(),C=n.getMinYear(),x=n.getMaxYear(),ct=n.getMinMonth(),Dt=n.getMaxMonth(),b=n.getMinDay(),g=n.getMaxDay();z===C&&V===ct&&rt===b&&(f=w,$===f&&(m=A)),z===x&&V===Dt&&rt===g&&(v=O,$===v&&(T=I))}else f=w,$===f&&(m=A),v=O,$===v&&(T=I);for(var d=f;d<=v;d+=1)u.push({label:a.hour?d+a.hour:Br(d),value:d});for(var S=m;S<=T;S+=l)p.push({label:a.minute?S+a.minute:Br(S),value:S});return[u,p]},n.getDefaultDate=function(){var s=n.props,a=s.min,c=s.mode,l=s.minuteStep;return a&&n.getMinDate().getTime()>=Date.now()?n.getMinDate():l&&l>1&&(c===ut||c===Xr)?new Date(new Date().setMinutes(0)):new Date},n.getMinYear=function(){return n.getMinDate().getFullYear()},n.getMaxYear=function(){return n.getMaxDate().getFullYear()},n.getMinMonth=function(){return n.getMinDate().getMonth()},n.getMaxMonth=function(){return n.getMaxDate().getMonth()},n.getMinDay=function(){return n.getMinDate().getDate()},n.getMaxDay=function(){return n.getMaxDate().getDate()},n.getMinHour=function(){return n.getMinDate().getHours()},n.getMaxHour=function(){return n.getMaxDate().getHours()},n.getMinMinute=function(){return n.getMinDate().getMinutes()},n.getMaxMinute=function(){return n.getMaxDate().getMinutes()},n.getMinDate=function(){var s=wt(n.props.min);return s||n.getDefaultMinDate()},n.getMaxDate=function(){var s=wt(n.props.max);return s||n.getDefaultMaxDate()},n.getDefaultMinDate=function(){return Yr(1900,0,1,0,0,0)},n.getDefaultMaxDate=function(){return Yr(2030,11,30,23,59,59)},n.clipDate=function(s){var a=n.props.mode,c=n.getMinDate(),l=n.getMaxDate();if(a===ut){if(s<c)return it(c);if(s>l)return it(l)}else if(a===Pt||a===It||a===Lt){if(+s+Ar<=+c)return it(c);if(s>=+l+Ar)return it(l)}else{var h=l.getHours(),u=l.getMinutes(),p=c.getHours(),f=c.getMinutes(),v=s.getHours(),m=s.getMinutes();if(v<p||v===p&&m<f)return it(c);if(v>h||v===h&&m>u)return it(l)}return s},n.state=jt(o);var i=n.props.onInit;return typeof i=="function"&&i(n.getDate()),n.getColsValue=n.getColsValue.bind(Co(n)),n}return Ut(e,[{key:"getColsValue",value:function(){var n=this.props.mode,i=this.getDate(),s=[],a=[];return n===Lt&&(s=this.getDateData(),a=[i.getFullYear()]),n===It&&(s=this.getDateData(),a=[i.getFullYear(),i.getMonth()]),(n===Pt||n===ut)&&(s=this.getDateData(),a=[i.getFullYear(),i.getMonth(),i.getDate()]),n===ut&&(s=s.concat(this.getTimeData()),a=a.concat([i.getHours(),i.getMinutes()])),n===Xr&&(s=this.getTimeData(),a=[i.getHours(),i.getMinutes()]),{dataSource:s,value:a}}},{key:"getDate",value:function(){var n=this.state,i=n.date,s=n.wheelDefault;return this.clipDate(i||s||this.getDefaultDate())}},{key:"render",value:function(){var n=this.props,i=n.prefixCls,s=n.className;n.onInit,n.defaultValue,n.wheelDefaultValue;var a=De(n,["prefixCls","className","onInit","defaultValue","wheelDefaultValue"]),c=this.getColsValue(),l=c.dataSource,h=c.value;return B.createElement(Mp,Ir({},a,{className:s,prefixCls:i,dataSource:l,value:h,onChange:this.onValueChange}))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return Qt(dt(n,["onChange","onInit","onTransition"]),dt(i.prevProps,["onChange","onInit","onTransition"]))?null:Op({prevProps:n},jt(n))}}]),e}(at.exports.Component);Mo.defaultProps={prefixCls:"za-date-picker-view",mode:Pt,disabled:!1,minuteStep:1,valueMember:"value",stopScroll:!1};var Cp=Gr("DatePickerView")(Mo);function Hr(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);t&&(o=o.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),e.push.apply(e,o)}return e}function de(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Hr(Object(e),!0).forEach(function(o){xt(r,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Hr(Object(e)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(e,o))})}return r}function Yp(r){var t=Bp();return function(){var o=tt(r),n;if(t){var i=tt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Kt(this,n)}}function Bp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Do=function(r){Wt(e,r);var t=Yp(e);function e(o){var n;return Vt(this,e),n=t.call(this,o),n.onCancel=function(){var i=n.props.onCancel;typeof i=="function"&&i()},n.onOk=function(){var i=n.props.onOk;n.setState({stopScroll:!0},function(){n.setState({stopScroll:!1},function(){typeof i=="function"&&i(n.state.date)})})},n.onInit=function(i){n.setState({date:i})},n.onValueChange=function(i){var s=n.props.onChange;n.setState({date:i}),typeof s=="function"&&s(i)},n.state=de(de({},jt(o)),{},{stopScroll:!1}),n}return Ut(e,[{key:"render",value:function(){var n=this.props,i=n.prefixCls,s=n.className,a=n.title,c=n.okText,l=n.cancelText,h=n.locale,u=n.mountContainer,p=n.maskClosable;n.onOk,n.onCancel,n.onInit;var f=n.visible,v=De(n,["prefixCls","className","title","okText","cancelText","locale","mountContainer","maskClosable","onOk","onCancel","onInit","visible"]),m=this.state,T=m.date,w=m.stopScroll,O=function(){};return B.createElement(jr,{className:s,visible:f,onMaskClick:p?this.onCancel:O,mountContainer:u,destroy:!0},B.createElement("div",{className:i,onClick:function(I){I.stopPropagation()}},B.createElement("div",{className:"".concat(i,"__header")},B.createElement("div",{className:"".concat(i,"__cancel"),onClick:this.onCancel},l||h.cancelText),B.createElement("div",{className:"".concat(i,"__title")},a||h.title),B.createElement("div",{className:"".concat(i,"__submit"),onClick:this.onOk},c||h.okText)),B.createElement(Cp,Ir({},v,{className:s,value:T,onInit:this.onInit,onChange:this.onValueChange,stopScroll:w}))))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return Qt(dt(n,["onOk","onCancel","onChange"]),dt(i.prevProps,["onOk","onCancel","onChange"]))?null:de({prevProps:n},jt(n))}}]),e}(at.exports.Component);Do.defaultProps={mode:"date",minuteStep:1,prefixCls:"za-date-picker",valueMember:"value",maskClosable:!0,onCancel:function(){},onInit:function(){}};var $p=Gr("DatePicker")(Do);const Oo=at.exports.forwardRef(({onSelect:r,mode:t="date"},e)=>{Oo.displayName="PopupDate";const[o,n]=at.exports.useState(!1),[i,s]=at.exports.useState(new Date),a=c=>{s(c),n(!1),t=="month"?r(Me(c).format("YYYY-MM")):t=="date"&&r(Me(c).format("YYYY-MM-DD"))};return e&&(e.current={show:()=>{n(!0)},close:()=>{n(!1)}}),B.createElement(jr,{visible:o,direction:"bottom",onMaskClick:()=>n(!1),destroy:!1,mountContainer:()=>document.body},B.createElement("div",null,B.createElement($p,{visible:o,value:i,mode:t,onOk:a,onCancel:()=>n(!1)})))});Oo.propTypes={mode:Fe.string,onSelect:Fe.func};export{Oo as P,Me as d};
